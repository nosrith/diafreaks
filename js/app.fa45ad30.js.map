{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/help_edit_train.png","webpack:///./src/assets/help_select_train.png","webpack:///./src/App.vue?c650","webpack:///./src/assets/help_tips.png","webpack:///./src/assets/help_edit_time.png","webpack:///./src/assets/diafreaks_logo.png","webpack:///./src/assets/help_add_new_train.png","webpack:///./src/assets/help_add_new_station.png","webpack:///./src/App.vue?314c","webpack:///./src/HistoryManager.ts","webpack:///./src/data/DiagramConfig.ts","webpack:///./src/data/Track.ts","webpack:///./src/data/Station.ts","webpack:///./src/data/StopEvent.ts","webpack:///./src/data/Train.ts","webpack:///./src/data/Diagram.ts","webpack:///./src/data/ViewConfig.ts","webpack:///./src/components/DiagramView.vue?0b2c","webpack:///./src/data/ViewState.ts","webpack:///./src/components/Stage.vue?792f","webpack:///./src/components/BackLayer.vue?286b","webpack:///./src/components/StationGroup.vue?e513","webpack:///./src/components/TrackGroup.vue?8d28","webpack:///./src/components/TrackGroup.vue","webpack:///./src/components/TrackGroup.vue?80ea","webpack:///./src/components/TrackGroup.vue?a194","webpack:///./src/components/StationGroup.vue","webpack:///./src/components/StationGroup.vue?f322","webpack:///./src/components/StationGroup.vue?1b58","webpack:///./src/components/BackLayer.vue","webpack:///./src/components/BackLayer.vue?3b1f","webpack:///./src/components/BackLayer.vue?c43c","webpack:///./src/components/Pointer.vue?bd5f","webpack:///./src/utils.ts","webpack:///./src/components/Pointer.vue","webpack:///./src/components/Pointer.vue?63e5","webpack:///./src/components/Pointer.vue?a4a9","webpack:///./src/components/TrainPathLayer.vue?8ae7","webpack:///./src/components/TrainPathGroup.vue?015e","webpack:///./src/components/TrainPathMarker.vue?21b2","webpack:///./src/components/TrainPathMarker.vue","webpack:///./src/components/TrainPathMarker.vue?ce7d","webpack:///./src/components/TrainPathMarker.vue?a47c","webpack:///./src/components/TrainPathGroup.vue","webpack:///./src/components/TrainPathGroup.vue?c604","webpack:///./src/components/TrainPathGroup.vue?fe26","webpack:///./src/components/TrainPathLayer.vue","webpack:///./src/components/TrainPathLayer.vue?75af","webpack:///./src/components/TrainPathLayer.vue?44a2","webpack:///./src/components/Stage.vue","webpack:///./src/components/Stage.vue?091d","webpack:///./src/components/Stage.vue?d206","webpack:///./src/components/StationAddTrackButton.vue?d09e","webpack:///./src/components/StationAddTrackButton.vue","webpack:///./src/components/StationAddTrackButton.vue?f328","webpack:///./src/components/StationAddTrackButton.vue?b738","webpack:///./src/components/StationExpandButton.vue?dd95","webpack:///./src/components/StationExpandButton.vue","webpack:///./src/components/StationExpandButton.vue?8892","webpack:///./src/components/StationExpandButton.vue?e10d","webpack:///./src/components/StationNameInput.vue?025b","webpack:///./src/components/StationNameInput.vue","webpack:///./src/components/StationNameInput.vue?fcac","webpack:///./src/components/StationNameInput.vue?9ce9","webpack:///./src/components/StationRemoveButton.vue?b7a7","webpack:///./src/components/StationRemoveButton.vue","webpack:///./src/components/StationRemoveButton.vue?6092","webpack:///./src/components/StationRemoveButton.vue?7287","webpack:///./src/components/StationRemoveTrackButton.vue?f707","webpack:///./src/components/StationRemoveTrackButton.vue","webpack:///./src/components/StationRemoveTrackButton.vue?2de7","webpack:///./src/components/StationRemoveTrackButton.vue?c700","webpack:///./src/components/TrackNameInput.vue?6686","webpack:///./src/components/TrackNameInput.vue","webpack:///./src/components/TrackNameInput.vue?2a59","webpack:///./src/components/TrackNameInput.vue?4243","webpack:///./src/components/DiagramView.vue","webpack:///./src/components/DiagramView.vue?0f5f","webpack:///./src/components/DiagramView.vue?613b","webpack:///./src/components/HelpView.vue?e4b0","webpack:///./src/components/HelpView.vue","webpack:///./src/components/HelpView.vue?dc1e","webpack:///./src/components/HelpView.vue?c2ea","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/messages.ts","webpack:///./src/main.ts","webpack:///./src/components/HelpView.vue?57d9","webpack:///./src/components/DiagramView.vue?1f36"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","diagram","viewConfig","historyManager","subView","_e","_m","staticClass","$t","class","editMode","on","onEditButtonClick","undoable","onUndoButtonClick","redoable","onRedoButtonClick","keys","trains","onVanishButtonClick","onUploadButtonClick","onDownloadButtonClick","onHelpButtonClick","staticRenderFns","staticStyle","capacity","undos","redos","elem","pop","undo","redo","minimumTimeUnit","minPlotTime","maxPlotTime","fontFamily","topPaneHeight","hourlyLabelBottomMargin","hourlyLabelFontSize","hourlyLabelColor","hourlyGridLineWidth","hourlyGridLineColor","majorMinutelyGridLineSpan","majorMinutelyGridLineWidth","majorMinutelyGridLineColor","minorMinutelyGridLineSpan","minorMinutelyGridLineWidth","minorMinutelyGridLineColor","leftPaneWidth","stationLabelLeftMargin","stationLabelRightMargin","stationLabelFontSize","stationLabelColor","stationLineWidth","stationLineColor","plotPanePadding","trackLabelLeftMargin","trackLabelFontSize","trackLabelColor","trackLineWidth","trackLineColor","trackLineSpan","scrollX","scrollY","xScale","yScale","trainPathWidth","trainPathColor","dc","DiagramConfig","assign","station","id","relY","Track","mileage","expanded","topRelY","bottomRelY","tracks","track","index","indexOf","Array","isArray","Station","map","fromJSON","forEach","train","time","privateId","StopEvent","maxPrivateId","stevs","undefined","stations","stationId","trackId","arrTime","depTime","find","stev","stevRange","inRange","from","to","stops","lastStop","Train","flatMap","fromJSONStop","config","maxId","maxRelY","y","x","values","sort","a","b","set","delete","getStationsInMileageOrder","initialMileage","lastMileage","fromEntries","Diagram","Math","max","updateY","minHitWidth","pointerWidth","pointerColor","pointerLabelFontSize","pointerPrecisePixelPerTimeUnit","selectedTrackLabelColor","selectedTrackLineColor","selectedTrainPathColor","selectedTrainPathWidthScale","selectedTrainPathMarkerWidth","selectedTrainPathMarkerColor","unselectedTrainPathOpacity","markerLabelMaxDistance","markerLabelColor","markerLabelFontSize","markerLabelLineHeight","wheelScale","onStationNameInputStart","onTrackNameInputStart","ref","_l","viewWidth","viewHeight","trainSelections","pointerScreenX","pointerTime","pointerY","pointerTargetTrainPath","pointerTargetLine","pointerPreciseState","drawingState","trainPathDragState","stationNameInputTarget","trackNameInputTarget","controlKeyPressed","inputEnabled","stageConfig","onStageMouseDown","onStageMouseMove","onStageClick","onStageDoubleClick","onStageMouseWheel","onContextMenu","onTouchEnd","_g","$listeners","lineConfig","labelConfig","topLineConfig","labelRectConfig","onStationLabelClick","onStationLabelMouseDown","isBottomLineIntersectingPlotPane","bottomLineConfig","onLabelClick","onLabelMouseDown","dragState","points","getYByRelY","viewState","stroke","strokeWidth","listening","width","height","text","fontSize","fill","align","verticalAlign","busy","dragging","$emit","konvaEvent","sy0","evt","screenY","index0","addEventListener","onWindowMouseMove","onWindowMouseUp","event","abs","removeTrack","mouseRelY","getRelYByY","clientY","newIndex","findIndex","removeEventListener","index1","addNewTrack","component","widthForChars","charSpan","mileage0","mileage1","components","TrackGroup","lines","scrollLeftTime","ceil","StationGroup","rectConfig","getTimeText","forceSec","hStr","floor","mmStr","padStart","ssStr","getXByTime","layerConfig","filter","regularTrainPathConfig","onTrainPathClick","onTrainPathMouseMove","onTrainPathTap","selectedTrainPathConfig","onSelectedTrainPathClick","onSelectedTrainPathDoubleClick","onSelectedTrainPathMouseDown","onSelectedTrainPathMouseMove","onMarkerClick","onMarkerMouseDown","$event","trainPathNode","onRectMouseMove","onRectDoubleClick","phase","labelPosition","getLabelPosition","thisStev","prevStev","prev","nextStev","next","thisRelY","prevRelY","lastStev","direction","stableEnd","floating","regularTrainPathNodes","opacity","hitStrokeWidth","getTrainPathNodes","selectedTrainPathNodes","sel","getStopEventsInRange","shiftEnabled","targets","shiftTime","timeShift","shiftRange","inShiftRange","getPointedStevRange","clientX","clickedStopRange","changeTrainSelections","clickedStevRange","clickSelected","shiftKey","selectedStevRange","selStart","selEnd","changed","$delete","$set","leftX","rightX","topY","min","bottomY","targetTime","nearestStation","getNearestStation","nearestStev","getNearestStopEvent","newStev","addNewStopEvent","minSta","minDist","minStop","minTimeShift","maxTimeShift","changeTrackTargets","firstNode","t0","y0","sx0","screenX","track0","changeTimeTargets","node","hypot","targetStation","mouseTrack","track1","newTrains","srcTrain","srcStevs","newTrain","addNewTrain","genId","srcStev","trainId","removeTrain","TrainPathMarker","clip","TrainPathGroup","stageDragState","pinchState","document","onKeyDown","onKeyUp","hammer","$el","DIRECTION_ALL","enable","onPanStart","onPanMove","onPanEnd","onPinchStart","onPinchMove","onPinchEnd","dUnit","round","getTimeByX","findPointerTargetLine","target","currentTarget","removeStopEvent","targetTrack","stationPointedOnTop","stationsInMileageOrder","stationPointedOnBottom","pointedTrack","button","sign","triple","newLastStev","ctrlKey","stableIndex","addedStevs","e","concat","targetLine","prevSta","reverse","startDrag","moveDrag","pointerType","center","scrollX0","scrollY0","x0","f","pow","deltaY","preventDefault","lastScale","scale","repeat","deletingTrains","deletingStevs","fromIndex","toIndex","size","BackLayer","Pointer","TrainPathLayer","style","nativeOn","onClick","left","top","newTrack","icon","directives","rawName","expression","domProps","type","_k","keyCode","onComplete","paddingTop","lineHeight","border","name0","name1","isTopLineIntersectingPlotPane","removingTrains","removingStevs","isLineIntersectingPlotPane","trackIndex","resizeObserver","ResizeObserver","updateViewSize","observe","$nextTick","$refs","stationNameInput","focus","trackNameInput","clientWidth","clientHeight","default","Stage","StationAddTrackButton","StationExpandButton","StationNameInput","StationRemoveButton","StationRemoveTrackButton","TrackNameInput","_s","diagramFileName","enableSwitchEditMode","screen","fetch","then","json","input","createElement","accept","onchange","reader","FileReader","files","file","readAsText","onload","JSON","parse","clear","$buefy","notification","open","message","toString","click","stringify","blob","Blob","url","URL","createObjectURL","href","download","DiagramView","HelpView","ja","failedToLoadJSON","editButtonTooltip","undoButtonTooltip","redoButtonTooltip","vanishTrainsButtonTooltip","vanishStationsButtonTooltip","uploadButtonTooltip","downloadButtonTooltip","helpButtonTooltip","help","addNewStationTitle","addNewStationBody","addNewTrainTitle","addNewTrainBody","selectTrainTitle","selectTrainBody","editTrainTitle","editTrainBody","editTimeTitle","editTimeBody","tipsTitle","tipsBody","contactTitle","contactBody","productionTip","use","defaultNotificationDuration","defaultNotificationPosition","i18n","locale","messages","render","h","$mount"],"mappings":"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","file":"js/app.fa45ad30.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/help_edit_train.67395182.png\";","module.exports = __webpack_public_path__ + \"img/help_select_train.6cd1d819.png\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/help_tips.12f4142e.png\";","module.exports = __webpack_public_path__ + \"img/help_edit_time.25aa545d.png\";","module.exports = __webpack_public_path__ + \"img/diafreaks_logo.8b0abdc8.png\";","module.exports = __webpack_public_path__ + \"img/help_add_new_train.0fab88c8.png\";","module.exports = __webpack_public_path__ + \"img/help_add_new_station.d55b6e32.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('diagram-view',{attrs:{\"id\":\"diagram-view\",\"diagram\":_vm.diagram,\"viewConfig\":_vm.viewConfig,\"historyManager\":_vm.historyManager}}),(_vm.subView == 'help')?_c('help-view',{attrs:{\"id\":\"help-pane\"}}):_vm._e(),_c('div',{attrs:{\"id\":\"nav-pane\"}},[_vm._m(0),_c('span',{attrs:{\"id\":\"nav-pane-buttons\"}},[_c('span',{attrs:{\"id\":\"nav-pane-buttons-left\"}},[(_vm.enableSwitchEditMode)?_c('span',{staticClass:\"nav-pane-item\"},[_c('b-tooltip',{attrs:{\"label\":_vm.$t('message.editButtonTooltip'),\"type\":\"is-light\"}},[_c('b-button',{class:_vm.viewConfig.editMode ? 'is-selected': '',attrs:{\"icon-left\":\"pencil-outline\",\"size\":\"medium\"},on:{\"click\":_vm.onEditButtonClick}})],1)],1):_vm._e(),(_vm.viewConfig.editMode)?_c('span',{staticClass:\"nav-pane-item\"},[_c('b-tooltip',{attrs:{\"label\":_vm.$t('message.undoButtonTooltip'),\"type\":\"is-light\"}},[_c('b-button',{attrs:{\"icon-left\":\"undo\",\"size\":\"medium\",\"disabled\":!_vm.historyManager.undoable},on:{\"click\":_vm.onUndoButtonClick}})],1)],1):_vm._e(),(_vm.viewConfig.editMode)?_c('span',{staticClass:\"nav-pane-item\"},[_c('b-tooltip',{attrs:{\"label\":_vm.$t('message.redoButtonTooltip'),\"type\":\"is-light\"}},[_c('b-button',{attrs:{\"icon-left\":\"redo\",\"size\":\"medium\",\"disabled\":!_vm.historyManager.redoable},on:{\"click\":_vm.onRedoButtonClick}})],1)],1):_vm._e(),(_vm.viewConfig.editMode)?_c('span',{staticClass:\"nav-pane-item\"},[_c('b-tooltip',{attrs:{\"label\":Object.keys(_vm.diagram.trains).length > 0 ? _vm.$t('message.vanishTrainsButtonTooltip') : _vm.$t('message.vanishStationsButtonTooltip'),\"type\":\"is-light\"}},[_c('b-button',{attrs:{\"icon-left\":\"vanish\",\"size\":\"medium\"},on:{\"click\":_vm.onVanishButtonClick}})],1)],1):_vm._e(),_c('span',{staticClass:\"nav-pane-item\"},[_c('b-tooltip',{attrs:{\"label\":_vm.$t('message.uploadButtonTooltip'),\"type\":\"is-light\"}},[_c('b-button',{attrs:{\"icon-left\":\"upload\",\"size\":\"medium\"},on:{\"click\":_vm.onUploadButtonClick}})],1)],1),_c('span',{staticClass:\"nav-pane-item\"},[_c('b-tooltip',{attrs:{\"label\":_vm.$t('message.downloadButtonTooltip'),\"type\":\"is-light\"}},[_c('b-button',{attrs:{\"icon-left\":\"download\",\"size\":\"medium\"},on:{\"click\":_vm.onDownloadButtonClick}})],1)],1)]),_c('span',{attrs:{\"id\":\"nav-pane-buttons-spacer\"}}),_c('span',{attrs:{\"id\":\"nav-pane-buttons-right\"}},[(_vm.enableSwitchEditMode)?_c('span',{staticClass:\"nav-pane-item\"},[_c('b-tooltip',{attrs:{\"label\":_vm.$t('message.helpButtonTooltip'),\"type\":\"is-light\"}},[_c('b-button',{class:_vm.subView == 'help' ? 'is-selected': '',attrs:{\"icon-left\":\"help\",\"size\":\"medium\"},on:{\"click\":_vm.onHelpButtonClick}})],1)],1):_vm._e()])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"nav-pane-item\",attrs:{\"id\":\"nav-pane-logo\"}},[_c('img',{staticStyle:{\"height\":\"32px\"},attrs:{\"src\":require(\"@/assets/diafreaks_logo.png\")}})])}]\n\nexport { render, staticRenderFns }","interface HistoryElement {\n    this: unknown;\n    undo: () => void;\n    redo: () => void;\n}\n\nexport default class HistoryManager {\n    constructor(public capacity: number) {}\n    private undos: HistoryElement[] = [];\n    private redos: HistoryElement[] = [];\n\n    get undoable(): boolean { return this.undos.length > 0; }\n    get redoable(): boolean { return this.redos.length > 0; }\n\n    push(elem: HistoryElement): void {\n        if (this.undos.length >= this.capacity) {\n            this.undos.splice(0, this.undos.length - this.capacity + 1);\n        }\n        this.undos.push(elem);\n        this.redos.splice(0);\n    }\n\n    clear(): void {\n        this.undos.splice(0);\n        this.redos.splice(0);\n    }\n\n    undo(): void {\n        const elem = this.undos.pop();\n        if (elem) {\n            this.redos.push(elem);\n            elem.undo.apply(elem.this);\n        }\n    }\n\n    redo(): void {\n        const elem = this.redos.pop();\n        if (elem) {\n            this.undos.push(elem);\n            elem.redo.apply(elem.this);\n        }\n    }\n}\n","export default class DiagramConfig {\n    minimumTimeUnit = 5;\n    minPlotTime = 0;\n    maxPlotTime = 30 * 3600;\n    fontFamily = \"Verdana, sans-serif\";\n    topPaneHeight = 30;\n    hourlyLabelBottomMargin = 4;\n    hourlyLabelFontSize = 14;\n    hourlyLabelColor = \"rgb(128, 192, 128)\";\n    hourlyGridLineWidth = 2.25;\n    hourlyGridLineColor = \"rgb(128, 192, 128)\";\n    majorMinutelyGridLineSpan = 10 * 60;\n    majorMinutelyGridLineWidth = 1.5;\n    majorMinutelyGridLineColor = \"rgb(128, 192, 128)\";\n    minorMinutelyGridLineSpan = 2 * 60;\n    minorMinutelyGridLineWidth = 0.75;\n    minorMinutelyGridLineColor = \"rgb(128, 192, 128)\";\n    leftPaneWidth = 140;\n    stationLabelLeftMargin = 14;\n    stationLabelRightMargin = 14;\n    stationLabelFontSize = 14;\n    stationLabelColor = \"rgb(128, 192, 128)\";\n    stationLineWidth = 1;\n    stationLineColor = \"rgb(128, 192, 128)\";\n    plotPanePadding = 4;\n    trackLabelLeftMargin = 10;\n    trackLabelFontSize = 11;\n    trackLabelColor = \"rgb(128, 192, 128)\";\n    trackLineWidth = 0.75;\n    trackLineColor = \"rgb(128, 192, 128)\";\n    trackLineSpan = 12;\n    scrollX = 6 * 3600 * 0.08;\n    scrollY = 0;\n    xScale = 0.08;\n    yScale = 10;\n    trainPathWidth = 1;\n    trainPathColor = \"rgb(0, 0, 0)\";\n\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n    static fromJSON(o: any): DiagramConfig {\n        if (!(o && typeof o == \"object\")) {\n            throw \"Invalid JSON\";\n        }\n        const dc = new DiagramConfig();\n        Object.assign(dc, o);\n        return dc;\n    }\n}","import Station from \"./Station\";\n\nexport default class Track {\n    constructor(\n        public readonly station: Station,\n        public readonly id: number, \n        public name: string,\n        public relY = 0,\n    ) {}\n\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n    static fromJSON(o: any, station: Station): Track {\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        if (!(o && typeof o == \"object\" && o.id != null)) {\n            throw \"Invalid JSON @ Track\";\n        }\n        return new Track(station, o.id, o.name, o.relY);\n    }\n\n    toJSON(): unknown {\n        return {\n            id: this.id,\n            name: this.name,\n        };\n    }\n}","import Track from \"./Track\";\n\nexport default class Station {\n    constructor(\n        public readonly id: number, \n        public name: string,\n        public mileage: number,\n        public expanded = false,\n        public topRelY = 0,\n        public bottomRelY = 0\n    ) {}\n    readonly tracks: Track[] = [];\n\n    addNewTrack(track: Track, index: number = this.tracks.length): Track {\n        this.tracks.splice(index, 0, track);\n        return this.tracks[index];\n    }\n\n    removeTrack(t: Track): void {\n        const index = this.tracks.indexOf(t);\n        if (index >= 0) this.tracks.splice(index, 1);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n    static fromJSON(o: any): Station {\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        if (!(o && typeof o == \"object\" && o.id != null && o.name != null && o.mileage != null && Array.isArray(o.tracks))) {\n            throw \"Invalid JSON @ Station\"\n        }\n        const station = new Station(o.id, o.name, o.mileage, !!o.expanded);\n        (o.tracks as any[]).map((t: any) => Track.fromJSON(t, station))\n            .forEach(t => station.tracks.push(t));\n        return station;\n    }\n\n    toJSON(): unknown {\n        return {\n            id: this.id,\n            name: this.name,\n            mileage: this.mileage,\n            tracks: this.tracks,\n            expanded: this.expanded,\n        };\n    }\n}\n","import Station from \"./Station\";\nimport Track from \"./Track\";\nimport Train from \"./Train\";\n\nexport default class StopEvent {\n    static maxPrivateId = 0;\n\n    constructor(\n        public readonly train: Train,\n        public track: Track,\n        public time: number\n    ) {}\n    readonly privateId: number = ++StopEvent.maxPrivateId;\n\n    get station(): Station {\n        return this.track.station;\n    }\n    get next(): StopEvent | undefined {\n        const index = this.train.stevs.indexOf(this);\n        return index >= 0 ? this.train.stevs[index + 1] : undefined;\n    }\n    get prev(): StopEvent | undefined {\n        const index = this.train.stevs.indexOf(this);\n        return index >= 0 ? this.train.stevs[index - 1] : undefined;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n    static fromJSONStop(o: any, train: Train, stations: { [id: number]: Station }): StopEvent[] {\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        if (!(o && typeof o == \"object\" && o.stationId != null && o.trackId != null && o.arrTime != null && o.depTime != null)) {\n            throw \"Invalid JSON @ Stop\";\n        }\n        const station = stations[o.stationId];\n        const track = station && station.tracks.find(t => t.id == o.trackId);\n        if (!(station && track)) {\n            throw \"Invalid data @ Stop\";\n        }\n        return o.arrTime == o.depTime ?\n            [ new StopEvent(train, track, o.arrTime) ] :\n            [ new StopEvent(train, track, o.arrTime), new StopEvent(train, track, o.depTime) ];\n    }\n}\n\nexport interface StopEventRange {\n    from: StopEvent;\n    to: StopEvent;\n}\n","import Station from \"./Station\";\nimport StopEvent, { StopEventRange } from \"./StopEvent\";\n\nexport default class Train {\n    constructor(\n        public readonly id: number, \n        public name: string,\n    ) {}\n    stevs: StopEvent[] = [];\n\n    addNewStopEvent(stev: StopEvent, index: number = this.stevs.length): StopEvent {\n        this.stevs.splice(index, 0, stev);\n        return this.stevs[index];\n    }\n\n    removeStopEvent(stev: StopEvent): void {\n        const index = this.stevs.indexOf(stev);\n        if (index >= 0) this.stevs.splice(index, 1);\n    }\n\n    getStopEventsInRange(stevRange: StopEventRange): StopEvent[] {\n        const result = [];\n        let inRange = false;\n        for (const stev of this.stevs) {\n            if (stev == stevRange.from) inRange = true;\n            if (inRange) result.push(stev);\n            if (stev == stevRange.to) inRange = false;\n        }\n        return result;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n    static fromJSON(o: any, stations: { [id: number]: Station }): Train {\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        if (!(o && typeof o == \"object\" && o.id != null && o.name != null && Array.isArray(o.stops))) {\n            throw \"Invalid JSON @ Train\";\n        }\n        const train = new Train(o.id, o.name);\n        (o.stops as any[]).flatMap((s: any) => StopEvent.fromJSONStop(s, train, stations))\n            .forEach(stev => train.stevs.push(stev));\n        return train;\n    }\n\n    toJSON(): unknown {\n        const stops: { stationId: number, trackId: number, arrTime: number, depTime: number }[] = [];\n        for (const stev of this.stevs) {\n            const lastStop = stops[stops.length - 1];\n            if (lastStop && lastStop.trackId == stev.track.id && lastStop.arrTime == lastStop.depTime) {\n                lastStop.depTime = stev.time;\n            } else {\n                stops.push({ \n                    stationId: stev.station.id, \n                    trackId: stev.track.id, \n                    arrTime: stev.time, \n                    depTime: stev.time \n                });\n            }\n        }\n        return {\n            id: this.id,\n            name: this.name,\n            stops: stops\n        };\n    }\n}\n","import Vue from \"vue\";\nimport DiagramConfig from \"./DiagramConfig\";\nimport Station from \"./Station\";\nimport Train from \"./Train\";\n\nexport default class Diagram {\n    constructor(\n        public config: DiagramConfig,\n        public stations: { [id: number]: Station },\n        public trains: { [id: number]: Train },\n    ) {}\n    maxId = 0;\n    maxRelY = 0;\n    \n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n    static fromJSON(o: any): Diagram {\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        if (!(o && typeof o == \"object\" && typeof o.stations == \"object\" && typeof o.trains == \"object\")) {\n            throw \"Invalid JSON\";\n        }\n        const config = DiagramConfig.fromJSON(o.config || {});\n        const stations: { [id: number]: Station } = Object.fromEntries(Object.values(o.stations).map((s: any) => [ s.id, Station.fromJSON(s) ]));\n        const trains: { [id: number]: Train } = Object.fromEntries(Object.values(o.trains).map((t: any) => [ t.id, Train.fromJSON(t, stations) ]));\n        const diagram = new Diagram(config, stations, trains);\n\n        let maxId = o.maxId ? Math.max(o.maxId, 0) : 0;\n        for (const s of Object.values(stations)) {\n            maxId = Math.max(s.id, maxId);\n            for (const t of s.tracks) {\n                maxId = Math.max(t.id, maxId);\n            }\n        }\n        for (const t of Object.values(trains)) {\n            maxId = Math.max(t.id, maxId);\n        }\n        diagram.maxId = maxId;\n\n        diagram.updateY();\n\n        return diagram;\n    }\n\n    getYByRelY(relY: number): number {\n        return relY + this.config.topPaneHeight - this.config.scrollY;\n    }\n    getRelYByY(y: number): number {\n        return y - this.config.topPaneHeight + this.config.scrollY;\n    }\n    getXByTime(time: number): number {\n        return time * this.config.xScale + this.config.leftPaneWidth - this.config.scrollX;\n    }\n    getTimeByX(x: number): number {\n        return (x - this.config.leftPaneWidth + this.config.scrollX) / this.config.xScale;\n    }\n\n    getStationsInMileageOrder(): Station[] {\n        return Object.values(this.stations).sort((a, b) => a.mileage - b.mileage);\n    }\n\n    genId(): number {\n        return ++this.maxId;\n    }\n    releaseId(id: number): void {\n        if (id == this.maxId) --this.maxId;\n    }\n\n    addNewStation(station: Station): Station {\n        return Vue.set(this.stations, station.id, station);\n    }\n    removeStation(station: Station): void {\n        Vue.delete(this.stations, station.id);\n    }\n    addNewTrain(train: Train): Train {\n        return Vue.set(this.trains, train.id, train);\n    }\n    removeTrain(train: Train): void {\n        Vue.delete(this.trains, train.id);\n    }\n\n    updateY(): void {\n        if (Object.keys(this.stations).length == 0) {\n            this.maxRelY = 0;\n            return;\n        }\n\n        const stations = this.getStationsInMileageOrder();\n    \n        const initialMileage = stations[0].mileage;\n        for (const s of stations) {\n          s.mileage = s.mileage - initialMileage;\n        }\n    \n        let y = this.config.plotPanePadding;\n        let lastMileage = 0;\n        for (const s of stations) {\n          y += (s.mileage - lastMileage) * this.config.yScale;\n          s.topRelY = y;\n          if (s.expanded) {\n            s.tracks.forEach((t, i) => {\n              t.relY = y + (i + 1) * this.config.trackLineSpan;\n            });\n            s.bottomRelY = y + (s.tracks.length + 1) * this.config.trackLineSpan;\n            y += (s.tracks.length + 1) * this.config.trackLineSpan;\n          } else {\n            Object.values(s.tracks).forEach(t => t.relY = y);\n            s.bottomRelY = y;\n          }\n          lastMileage = s.mileage;\n        }\n    \n        this.maxRelY = stations[stations.length - 1].bottomRelY + this.config.plotPanePadding;\n      }\n    \n    toJSON(): unknown {\n        return {\n            config: this.config,\n            stations: this.stations,\n            trains: this.trains,\n        };\n    }\n}","export default class ViewConfig {\n    minHitWidth = 3;\n    pointerWidth = 3;\n    pointerColor = \"rgb(0, 0, 0)\";\n    pointerLabelFontSize = 12;\n    pointerPrecisePixelPerTimeUnit = 5;\n    selectedTrackLabelColor = \"rgb(255, 0, 0)\";\n    selectedTrackLineColor = \"rgb(255, 0, 0)\";\n    selectedTrainPathColor = \"rgb(255, 0, 0)\";\n    selectedTrainPathWidthScale = 1.5;\n    selectedTrainPathMarkerWidth = 5;\n    selectedTrainPathMarkerColor = \"rgb(255, 0, 0)\";\n    unselectedTrainPathOpacity = 0.5;\n    markerLabelMaxDistance = 20;\n    markerLabelColor = \"rgb(255, 0, 0)\";\n    markerLabelFontSize = 12;\n    markerLabelLineHeight = 16;\n    wheelScale = 0.1;\n    editMode = true;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"diagram-view\"},[_c('stage',{staticClass:\"diagram-view-stage\",on:{\"stationNameInputStart\":_vm.onStationNameInputStart,\"trackNameInputStart\":_vm.onTrackNameInputStart}}),_c('div',{staticClass:\"diagram-view-ui\"},[_c('station-name-input',{ref:\"stationNameInput\"}),_c('track-name-input',{ref:\"trackNameInput\"}),_vm._l((Object.values(_vm.diagram.stations)),function(s){return _c('station-expand-button',{key:(\"station-expand-button-\" + (s.id)),attrs:{\"station\":s},on:{\"trackNameInputStart\":_vm.onTrackNameInputStart}})}),_vm._l((Object.values(_vm.diagram.stations)),function(s){return _c('station-remove-button',{key:(\"station-remove-button-\" + (s.id)),attrs:{\"station\":s}})}),_vm._l((Object.values(_vm.diagram.stations)),function(s){return _c('station-add-track-button',{key:(\"station-add-track-button-\" + (s.id)),attrs:{\"station\":s},on:{\"trackNameInputStart\":_vm.onTrackNameInputStart}})}),_vm._l((Object.values(_vm.diagram.stations)),function(s){return _vm._l((s.tracks),function(t){return _c('station-remove-track-button',{key:(\"station-remove-track-button-\" + (s.id) + \"-\" + (t.id)),attrs:{\"station\":s,\"track\":t}})})})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Station from \"./Station\";\nimport StopEvent, { StopEventRange } from \"./StopEvent\";\nimport Track from \"./Track\";\nimport Train from \"./Train\";\n\nexport interface TrainSelectionState {\n    readonly train: Train;\n    stevRange: StopEventRange | null;\n}\n\nexport default class ViewState {\n    viewWidth = 0;\n    viewHeight = 0;\n    trainSelections: { [trainId: number]: TrainSelectionState } = {};\n    pointerScreenX = 0;\n    pointerTime = 0;\n    pointerY = 0;\n    pointerTargetTrainPath: { train: Train, stevRange: StopEventRange } | null = null;\n    pointerTargetLine: { station: Station, track: Track | null, relY: number } | null = null;\n    pointerPreciseState: { sx0: number, t0: number } | null = null;\n    drawingState: {\n        train: Train,\n        lastStev: StopEvent,\n        direction: number,\n        stableEnd: StopEvent | null,\n        floating: StopEvent | null\n    } | null = null;\n    trainPathDragState: { \n        dragging: boolean,\n        targets: { [trainId: number]: TrainSelectionState },\n        timeShift: number \n    } | null = null;\n    stationNameInputTarget: Station | null = null;\n    trackNameInputTarget: Track | null = null;\n    controlKeyPressed = false;\n\n    get busy(): boolean {\n        return this.drawingState != null || \n            this.trainPathDragState != null ||\n            this.inputEnabled;\n    }\n\n    get inputEnabled(): boolean {\n        return this.stationNameInputTarget != null || this.trackNameInputTarget != null;\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.diagram)?_c('v-stage',{attrs:{\"config\":_vm.stageConfig},on:{\"mousedown\":_vm.onStageMouseDown,\"mousemove\":_vm.onStageMouseMove,\"click\":_vm.onStageClick,\"dblclick\":_vm.onStageDoubleClick,\"wheel\":_vm.onStageMouseWheel,\"contextmenu\":_vm.onContextMenu,\"touchend\":_vm.onTouchEnd}},[_c('back-layer',_vm._g({},_vm.$listeners)),_c('train-path-layer'),_c('v-layer',[_c('pointer')],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layer',{attrs:{\"id\":\"back-layer\"}},[_vm._l((_vm.timeGridLines),function(t){return _c('v-group',{key:t.key},[_c('v-line',{attrs:{\"config\":t.lineConfig}}),(t.labelConfig)?_c('v-text',{attrs:{\"config\":t.labelConfig}}):_vm._e()],1)}),_vm._l((Object.values(_vm.diagram.stations)),function(s){return _c('station-group',_vm._g({key:(\"station-\" + (s.id)),attrs:{\"station\":s}},_vm.$listeners))})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-group',[(_vm.isTopLineIntersectingPlotPane)?_c('v-group',[_c('v-line',{attrs:{\"config\":_vm.topLineConfig}}),_vm._l((_vm.labelCharacters),function(c){return _c('v-text',{key:c.key,attrs:{\"config\":c}})}),_c('v-rect',{attrs:{\"config\":_vm.labelRectConfig},on:{\"click\":_vm.onStationLabelClick,\"mousedown\":_vm.onStationLabelMouseDown}})],2):_vm._e(),(_vm.station.expanded && _vm.isBottomLineIntersectingPlotPane)?_c('v-line',{attrs:{\"config\":_vm.bottomLineConfig}}):_vm._e(),(_vm.station.expanded)?_vm._l((_vm.station.tracks),function(t){return _c('track-group',_vm._g({key:(\"track-\" + (_vm.station.id) + \"-\" + (t.id)),attrs:{\"station\":_vm.station,\"track\":t}},_vm.$listeners))}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLineIntersectingPlotPane)?_c('v-group',[_c('v-line',{attrs:{\"config\":_vm.lineConfig}}),_c('v-text',{attrs:{\"config\":_vm.labelConfig},on:{\"click\":_vm.onLabelClick,\"mousedown\":_vm.onLabelMouseDown}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport { Component, Inject, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\nimport Station from \"@/data/Station\";\nimport Track from \"@/data/Track\";\nimport { KonvaEventObject } from \"konva/types/Node\";\n\n@Component\nexport default class TrackGroup extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n  @Prop() station!: Station;\n  @Prop() track!: Track;\n\n  dragState: { sy0: number, index0: number, dragging: boolean } | null = null;\n\n  get lineConfig(): unknown {\n    return {\n      points: [\n        this.diagram.config.stationLabelLeftMargin + this.diagram.config.trackLabelLeftMargin, \n        this.diagram.getYByRelY(this.track.relY), \n        this.viewState.viewWidth, \n        this.diagram.getYByRelY(this.track.relY)\n      ],\n      stroke: this.diagram.config.trackLineColor,\n      strokeWidth: this.diagram.config.trackLineWidth,\n      listening: false,\n    }\n  }\n\n  get labelConfig(): unknown {\n    return {\n      id: `track-label-${this.station.id}-${this.track.id}`,\n      x: this.diagram.config.stationLabelLeftMargin + this.diagram.config.trackLabelLeftMargin,\n      y: this.diagram.getYByRelY(this.track.relY) - this.diagram.config.trackLabelFontSize,\n      width: this.diagram.config.leftPaneWidth - this.diagram.config.stationLabelLeftMargin - this.diagram.config.trackLabelLeftMargin - this.diagram.config.stationLabelRightMargin,\n      height: this.diagram.config.trackLabelFontSize,\n      text: this.track.name,\n      fontSize: this.diagram.config.trackLabelFontSize,\n      fontFamily: this.diagram.config.fontFamily,\n      fill: this.diagram.config.trackLabelColor,\n      align: \"left\",\n      verticalAlign: \"bottom\",\n    }\n  }\n\n  get isLineIntersectingPlotPane(): boolean {\n    return this.diagram.getYByRelY(this.track.relY) >= this.diagram.config.topPaneHeight && \n      this.diagram.getYByRelY(this.track.relY) < this.viewState.viewHeight;\n  }\n\n  onLabelClick(): void {\n    if (this.viewConfig.editMode && !this.viewState.busy && !this.dragState?.dragging) {\n      this.viewState.trackNameInputTarget = this.track;\n      this.$emit(\"trackNameInputStart\");\n    }\n  }\n\n  onLabelMouseDown(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    if (this.viewConfig.editMode) {\n      this.dragState = { \n        sy0: konvaEvent.evt.screenY, \n        index0: this.station.tracks.indexOf(this.track), \n        dragging: false \n      };\n      window.addEventListener(\"mousemove\", this.onWindowMouseMove);\n      window.addEventListener(\"mouseup\", this.onWindowMouseUp);\n    }\n  }\n\n  onWindowMouseMove(event: MouseEvent): void {\n    if (this.dragState) {\n      if (Math.abs(event.screenY - this.dragState.sy0) > 1) {\n        this.dragState.dragging = true;\n      }\n      if (this.dragState.dragging) {\n        this.station.removeTrack(this.track);\n\n        const mouseRelY = this.diagram.getRelYByY(event.clientY);\n        const newIndex = this.station.tracks.findIndex(t => mouseRelY < t.relY);\n        if (newIndex < 0) {\n          this.station.tracks.push(this.track);\n        } else {\n          this.station.tracks.splice(newIndex, 0, this.track);\n        }\n        this.diagram.updateY();\n      }\n    }\n  }\n\n  onWindowMouseUp(event: MouseEvent): void {\n    if (this.dragState) {\n      window.removeEventListener(\"mousemove\", this.onWindowMouseMove);\n      window.removeEventListener(\"mouseup\", this.onWindowMouseUp);\n      this.onWindowMouseMove(event);\n\n      const index0 = this.dragState.index0;\n      const index1 = this.station.tracks.indexOf(this.track);\n      if (index0 != index1) {\n        this.historyManager.push({\n          this: this,\n          undo: () => { \n            this.station.removeTrack(this.track); \n            this.station.addNewTrack(this.track, index0); \n          },\n          redo: () => {\n            this.station.removeTrack(this.track); \n            this.station.addNewTrack(this.track, index1); \n          }\n        });\n      }\n\n      this.dragState = null;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackGroup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackGroup.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TrackGroup.vue?vue&type=template&id=137cac32&scoped=true&\"\nimport script from \"./TrackGroup.vue?vue&type=script&lang=ts&\"\nexport * from \"./TrackGroup.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"137cac32\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Inject, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport Station from \"@/data/Station\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\nimport TrackGroup from \"./TrackGroup.vue\";\nimport { KonvaEventObject } from \"konva/types/Node\";\n\n@Component({\n  components: {\n    TrackGroup\n  },\n})\nexport default class StationGroup extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n  @Prop() station!: Station;\n\n  dragState: { sy0: number, mileage0: number, dragging: boolean } | null = null;\n\n  get topLineConfig(): unknown {\n    return {\n      points: [\n        0, \n        this.diagram.getYByRelY(this.station.topRelY), \n        this.viewState.viewWidth, \n        this.diagram.getYByRelY(this.station.topRelY)\n      ],\n      stroke: this.diagram.config.stationLineColor,\n      strokeWidth: this.diagram.config.stationLineWidth,\n      listening: false,\n    }\n  }\n\n  get bottomLineConfig(): unknown {\n    return {\n      points: [\n        0, \n        this.diagram.getYByRelY(this.station.bottomRelY), \n        this.viewState.viewWidth, \n        this.diagram.getYByRelY(this.station.bottomRelY)\n      ],\n      stroke: this.diagram.config.stationLineColor,\n      strokeWidth: this.diagram.config.stationLineWidth,\n      listening: false,\n    }\n  }\n\n  get labelRectConfig(): unknown {\n    return {\n      id: `station-label-${this.station.id}`,\n      x: this.diagram.config.stationLabelLeftMargin,\n      y: this.diagram.getYByRelY(this.station.topRelY) - this.diagram.config.stationLabelFontSize,\n      width: this.diagram.config.leftPaneWidth - this.diagram.config.stationLabelLeftMargin - this.diagram.config.stationLabelRightMargin,\n      height: this.diagram.config.stationLabelFontSize,\n    };\n  }\n\n  get labelCharacters(): unknown {\n    const widthForChars = this.diagram.config.leftPaneWidth - this.diagram.config.stationLabelLeftMargin - this.diagram.config.stationLabelRightMargin - this.diagram.config.stationLabelFontSize;\n    const charSpan = this.station.name.length > 1 ? widthForChars / (this.station.name.length - 1) : 0;\n    return Array.from(this.station.name).map((c, index) => {\n      return {\n        key: `station-label-${this.station.id}-${index}`,\n        x: this.station.name.length > 1 ? \n            this.diagram.config.stationLabelLeftMargin + index * charSpan :\n            this.diagram.config.stationLabelLeftMargin + widthForChars * 0.5,\n        y: this.diagram.getYByRelY(this.station.topRelY) - this.diagram.config.stationLabelFontSize,\n        height: this.diagram.config.stationLabelFontSize,\n        text: c,\n        fontSize: this.diagram.config.stationLabelFontSize,\n        fontFamily: this.diagram.config.fontFamily,\n        fill: this.diagram.config.stationLabelColor,\n        align: \"left\",\n        verticalAlign: \"bottom\",\n      }\n    });\n  }\n\n  get isTopLineIntersectingPlotPane(): boolean {\n    return this.diagram.getYByRelY(this.station.topRelY) >= this.diagram.config.topPaneHeight && \n      this.diagram.getYByRelY(this.station.topRelY) < this.viewState.viewHeight;\n  }\n\n  get isBottomLineIntersectingPlotPane(): boolean {\n    return this.diagram.getYByRelY(this.station.bottomRelY) >= this.diagram.config.topPaneHeight && \n      this.diagram.getYByRelY(this.station.bottomRelY) < this.viewState.viewHeight;\n  }\n\n  onStationLabelClick(): void {\n    if (this.viewConfig.editMode && !this.viewState.busy && !this.dragState?.dragging) {\n      this.viewState.stationNameInputTarget = this.station;\n      this.$emit(\"stationNameInputStart\");\n    }\n  }\n\n  onStationLabelMouseDown(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    if (this.viewConfig.editMode && !this.viewState.inputEnabled) {\n      this.dragState = {\n        sy0: konvaEvent.evt.screenY,\n        mileage0: this.station.mileage,\n        dragging: false,\n      };\n      window.addEventListener(\"mousemove\", this.onWindowMouseMove);\n      window.addEventListener(\"mouseup\", this.onWindowMouseUp);\n    }\n  }\n\n  onWindowMouseMove(event: MouseEvent): void {\n    if (this.dragState) {\n      if (Math.abs(event.screenY - this.dragState.sy0) > 1) {\n        this.dragState.dragging = true;\n      }\n      if (this.dragState.dragging) {\n        this.station.mileage = this.dragState.mileage0 + (event.screenY - this.dragState.sy0) / this.diagram.config.yScale;\n        this.diagram.updateY();\n      }\n    }\n  }\n\n  onWindowMouseUp(event: MouseEvent): void {\n    if (this.dragState) {\n      window.removeEventListener(\"mousemove\", this.onWindowMouseMove);\n      window.removeEventListener(\"mouseup\", this.onWindowMouseUp);\n      this.onWindowMouseMove(event);\n\n      if (this.dragState.dragging) {\n        const mileage0 = this.dragState.mileage0;\n        const mileage1 = this.station.mileage;\n        this.historyManager.push({\n          this: this,\n          undo: () => { this.station.mileage = mileage0; },\n          redo: () => { this.station.mileage = mileage1; }\n        });\n      }\n\n      this.dragState = null;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationGroup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationGroup.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationGroup.vue?vue&type=template&id=3a6a4ac5&scoped=true&\"\nimport script from \"./StationGroup.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationGroup.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a6a4ac5\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\nimport { Component, InjectReactive, Vue } from \"vue-property-decorator\";\nimport Diagram from \"@/data/Diagram\";\nimport ViewState from \"@/data/ViewState\";\nimport StationGroup from \"./StationGroup.vue\";\n\n@Component({\n  components: {\n    StationGroup\n  },\n})\nexport default class BackLayer extends Vue {\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n\n  get timeGridLines(): unknown {\n    const lines = [];\n    const scrollLeftTime = this.diagram.config.scrollX / this.diagram.config.xScale;\n    let t = Math.ceil(scrollLeftTime / this.diagram.config.minorMinutelyGridLineSpan) * this.diagram.config.minorMinutelyGridLineSpan;\n    let x = t * this.diagram.config.xScale - this.diagram.config.scrollX + this.diagram.config.leftPaneWidth;\n    while (x < this.viewState.viewWidth) {\n      lines.push({\n        key: `time-grid-line-${lines.length}`,\n        lineConfig: {\n          points: [\n            x,\n            this.diagram.config.topPaneHeight,\n            x,\n            this.viewState.viewHeight\n          ],\n          stroke:\n            t % 3600 == 0 ? this.diagram.config.hourlyGridLineColor :\n            t % this.diagram.config.majorMinutelyGridLineSpan == 0 ? this.diagram.config.majorMinutelyGridLineColor :\n            this.diagram.config.minorMinutelyGridLineColor,\n          strokeWidth: \n            t % 3600 == 0 ? this.diagram.config.hourlyGridLineWidth :\n            t % this.diagram.config.majorMinutelyGridLineSpan == 0 ? this.diagram.config.majorMinutelyGridLineWidth :\n            this.diagram.config.minorMinutelyGridLineWidth,\n          listening: false,\n        },\n        labelConfig: t % 3600 != 0 ? null : {\n          x: x - this.diagram.config.hourlyLabelFontSize,\n          y: this.diagram.config.topPaneHeight - this.diagram.config.hourlyLabelBottomMargin - this.diagram.config.hourlyLabelFontSize,\n          width: this.diagram.config.hourlyLabelFontSize * 2,\n          height: this.diagram.config.hourlyLabelFontSize,\n          text: `${ t / 3600 % 24 }`,\n          fontSize: this.diagram.config.hourlyLabelFontSize,\n          fontFamily: this.diagram.config.fontFamily,\n          fill: this.diagram.config.hourlyLabelColor,\n          align: \"center\",\n          verticalAlign: \"bottom\",\n        }\n      });\n      t += this.diagram.config.minorMinutelyGridLineSpan;\n      x = t * this.diagram.config.xScale - this.diagram.config.scrollX + this.diagram.config.leftPaneWidth;\n    }\n    return lines;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackLayer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackLayer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BackLayer.vue?vue&type=template&id=654ee79b&scoped=true&\"\nimport script from \"./BackLayer.vue?vue&type=script&lang=ts&\"\nexport * from \"./BackLayer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"654ee79b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.pointerEnabled)?_c('v-group',[_c('v-rect',{attrs:{\"config\":_vm.rectConfig}}),_c('v-text',{attrs:{\"config\":_vm.labelConfig}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function getTimeText(time: number, forceSec?: boolean): string {\n    const hStr = `${Math.floor(time / 3600)}`;\n    const mmStr = `${Math.floor(time / 60) % 60}`.padStart(2, \"0\");\n    const ssStr = `${time % 60}`.padStart(2, \"0\");\n    return time % 60 != 0 || forceSec ? `${hStr}:${mmStr}:${ssStr}` : `${hStr}:${mmStr}`;\n}\n","\n\n\n\n\n\n\n\nimport { Component, InjectReactive, Vue } from \"vue-property-decorator\";\nimport { getTimeText } from \"@/utils\";\nimport Diagram from \"@/data/Diagram\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\n\n@Component\nexport default class TrainPathGroup extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n\n  get pointerEnabled(): unknown {\n    return this.viewState.pointerTargetLine && !this.viewState.pointerTargetTrainPath &&\n      !this.viewState.trainPathDragState && !this.viewState.drawingState;\n  }\n\n  get rectConfig(): unknown {\n    const width = this.viewState.drawingState ? this.viewConfig.selectedTrainPathMarkerWidth : this.viewConfig.pointerWidth;\n    return {\n      x: this.diagram.getXByTime(this.viewState.pointerTime) - width * 0.5,\n      y: this.viewState.pointerY - width * 0.5,\n      width: width,\n      height: width,\n      fill: this.viewConfig.pointerColor,\n      listening: false,\n    };\n  }\n\n  get labelConfig(): unknown {\n    const time = this.viewState.pointerTime >= 0 ? \n      this.viewState.pointerTime : \n      this.viewState.pointerTime + Math.ceil(-this.viewState.pointerTime / 3600) * 3600;\n    return {\n      x: this.diagram.getXByTime(this.viewState.pointerTime),\n      y: this.viewState.pointerY - this.viewConfig.pointerLabelFontSize,\n      height: this.viewConfig.pointerLabelFontSize,\n      text: getTimeText(time, this.viewState.pointerPreciseState != null),\n      fontSize: this.viewConfig.pointerLabelFontSize,\n      fontFamily: this.diagram.config.fontFamily,\n      fill: this.viewConfig.pointerColor,\n      align: \"left\",\n      verticalAlign: \"bottom\",\n      listening: false,\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pointer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pointer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pointer.vue?vue&type=template&id=3766b4d0&scoped=true&\"\nimport script from \"./Pointer.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pointer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3766b4d0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layer',{ref:\"trainPathLayer\",attrs:{\"id\":\"train-path-layer\",\"config\":_vm.layerConfig}},[_vm._l((Object.values(_vm.diagram.trains).filter(function (t) { return !_vm.viewState.trainSelections[t.id]; })),function(t){return _c('train-path-group',{key:(\"train-\" + (t.id)),attrs:{\"train\":t}})}),_vm._l((Object.values(_vm.diagram.trains).filter(function (t) { return _vm.viewState.trainSelections[t.id]; })),function(t){return _c('train-path-group',{key:(\"train-\" + (t.id)),attrs:{\"train\":t}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-group',[_c('v-line',{attrs:{\"config\":_vm.regularTrainPathConfig},on:{\"click\":_vm.onTrainPathClick,\"mousemove\":_vm.onTrainPathMouseMove,\"tap\":_vm.onTrainPathTap}}),(_vm.selectedTrainPathEnabled)?[_c('v-line',{attrs:{\"config\":_vm.selectedTrainPathConfig},on:{\"click\":_vm.onSelectedTrainPathClick,\"dblclick\":_vm.onSelectedTrainPathDoubleClick,\"mousedown\":_vm.onSelectedTrainPathMouseDown,\"mousemove\":_vm.onSelectedTrainPathMouseMove}}),_vm._l((_vm.selectedTrainPathNodes),function(n){return _c('train-path-marker',{key:(\"marker-\" + (_vm.train.id) + \"-\" + (n.stev.privateId) + \"-\" + (n.phase)),attrs:{\"trainPathNode\":n},on:{\"click\":_vm.onMarkerClick,\"mousedown\":_vm.onMarkerMouseDown}})})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-group',[_c('v-rect',{attrs:{\"config\":_vm.rectConfig},on:{\"click\":function($event){return _vm.$emit('click', $event, _vm.trainPathNode)},\"mousemove\":_vm.onRectMouseMove,\"mousedown\":function($event){return _vm.$emit('mousedown', $event, _vm.trainPathNode)},\"dblclick\":_vm.onRectDoubleClick}}),(_vm.labelEnabled)?_c('v-text',{attrs:{\"config\":_vm.labelConfig}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport { Component, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport { getTimeText } from \"@/utils\";\nimport Diagram from \"@/data/Diagram\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\nimport TrainPathNode from \"@/data/TrainPathNode\";\n\n@Component\nexport default class TrainPathMarker extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Prop() trainPathNode!: TrainPathNode;\n\n  get rectConfig(): unknown {\n    return {\n      x: this.diagram.getXByTime(this.trainPathNode.time) - this.viewConfig.selectedTrainPathMarkerWidth * 0.5,\n      y: this.diagram.getYByRelY(this.trainPathNode.relY) - this.viewConfig.selectedTrainPathMarkerWidth * 0.5,\n      width: this.viewConfig.selectedTrainPathMarkerWidth,\n      height: this.viewConfig.selectedTrainPathMarkerWidth,\n      fill: this.viewConfig.selectedTrainPathMarkerColor,\n    };\n  }\n\n  get labelEnabled(): boolean {\n    return this.trainPathNode.phase == \"track\";\n  }\n\n  get labelConfig(): unknown {\n    const labelPosition = this.getLabelPosition();\n    return {\n      x: this.diagram.getXByTime(this.trainPathNode.time) + labelPosition.x - this.viewConfig.markerLabelFontSize * 8,\n      y: this.diagram.getYByRelY(this.trainPathNode.relY) + labelPosition.y - this.viewConfig.markerLabelLineHeight,\n      width: this.viewConfig.markerLabelFontSize * 8,\n      height: this.viewConfig.markerLabelLineHeight,\n      text: getTimeText(this.trainPathNode.time, this.viewState.pointerPreciseState != null),\n      fontSize: this.viewConfig.pointerLabelFontSize,\n      fontFamily: this.diagram.config.fontFamily,\n      fill: this.viewConfig.markerLabelColor,\n      align: \"right\",\n      verticalAlign: \"bottom\",\n      listening: false,\n    }\n  }\n\n  getLabelPosition(): { x: number, y: number } {\n    const thisStev = this.trainPathNode.stev;\n    const prevStev = thisStev.prev;\n    const nextStev = thisStev.next;\n    if (prevStev && prevStev.track != thisStev.track && (!nextStev || nextStev.track == thisStev.track)) {\n      const thisRelY = prevStev.station.mileage < thisStev.station.mileage ? thisStev.station.topRelY : thisStev.station.bottomRelY;\n      const prevRelY = prevStev.station.mileage < thisStev.station.mileage ? prevStev.station.bottomRelY : prevStev.station.topRelY;\n      const x = thisRelY == prevRelY ? 0:\n        -this.viewConfig.markerLabelLineHeight *\n        ((thisStev.time - prevStev.time) * this.diagram.config.xScale) /\n        Math.abs(thisRelY - prevRelY);\n      return {\n        x: Math.max(x, -this.viewConfig.markerLabelMaxDistance),\n        y: prevStev.station.mileage < thisStev.station.mileage ? 0 : this.viewConfig.markerLabelLineHeight\n      };\n    }\n\n    return {\n      x: 0,\n      y: nextStev && nextStev.station.mileage < thisStev.station.mileage || prevStev && prevStev.station.mileage > thisStev.station.mileage ? 0 : this.viewConfig.markerLabelLineHeight,\n    };\n  }\n\n  onRectMouseMove(): void {\n    this.viewState.pointerTargetTrainPath = {\n      train: this.trainPathNode.stev.train,\n      stevRange: { from: this.trainPathNode.stev, to: this.trainPathNode.stev }\n    };\n  }\n\n  onRectDoubleClick(): void {\n    if (this.viewConfig.editMode) {\n      if (!this.viewState.drawingState) {\n        const n = this.trainPathNode;\n        if (!n.stev.prev) {\n          this.viewState.drawingState = {\n            train: n.stev.train,\n            lastStev: n.stev,\n            direction: -1,\n            stableEnd: n.stev,\n            floating: null\n          };\n          this.viewState.trainSelections[n.stev.train.id].stevRange = null;\n        } else if (!n.stev.next) {\n          this.viewState.drawingState = {\n            train: n.stev.train,\n            lastStev: n.stev,\n            direction: 1,\n            stableEnd: n.stev,\n            floating: null\n          };\n          this.viewState.trainSelections[n.stev.train.id].stevRange = null;\n        }\n      } else {\n        this.viewState.drawingState = null;\n        this.viewState.trainSelections = {};\n      }\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainPathMarker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainPathMarker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TrainPathMarker.vue?vue&type=template&id=40df1b93&scoped=true&\"\nimport script from \"./TrainPathMarker.vue?vue&type=script&lang=ts&\"\nexport * from \"./TrainPathMarker.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40df1b93\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\nimport { Component, Inject, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport { KonvaEventObject } from \"konva/types/Node\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport Station from \"@/data/Station\";\nimport StopEvent, { StopEventRange } from \"@/data/StopEvent\";\nimport Track from \"@/data/Track\";\nimport TrainPathNode from \"@/data/TrainPathNode\";\nimport Train from \"@/data/Train\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\nimport TrainPathMarker from \"./TrainPathMarker.vue\";\n\n@Component({\n  components: {\n    TrainPathMarker\n  },\n})\nexport default class TrainPathGroup extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n  @Prop() train!: Train;\n\n  dragState: { \n    t0: number, \n    y0: number,\n    sx0: number, \n    sy0: number,\n    track0: Track | null,\n    minTimeShift: number,\n    maxTimeShift: number,\n    changeTimeTargets: StopEvent[] | null,\n    changeTrackTargets: StopEvent[] | null,\n  } | null = null;\n\n  get regularTrainPathConfig(): unknown {\n    return {\n      points: this.regularTrainPathNodes.flatMap(n => [this.diagram.getXByTime(n.time), this.diagram.getYByRelY(n.relY)]),\n      stroke: this.diagram.config.trainPathColor,\n      opacity: Object.keys(this.viewState.trainSelections).length > 0 ? this.viewConfig.unselectedTrainPathOpacity : 1,\n      strokeWidth: this.diagram.config.trainPathWidth,\n      hitStrokeWidth: Math.max(this.diagram.config.trainPathWidth, this.viewConfig.minHitWidth * 2),\n    }\n  }\n\n  get regularTrainPathNodes(): TrainPathNode[] {\n    return this.getTrainPathNodes(\"regular\");\n  }\n\n  get selectedTrainPathEnabled(): boolean {\n    return this.viewState.trainSelections[this.train.id] != null;\n  }\n\n  get selectedTrainPathConfig(): unknown {\n    return {\n      points: this.selectedTrainPathNodes.flatMap(n => [this.diagram.getXByTime(n.time), this.diagram.getYByRelY(n.relY)]),\n      stroke: this.viewConfig.selectedTrainPathColor,\n      strokeWidth: this.diagram.config.trainPathWidth * this.viewConfig.selectedTrainPathWidthScale,\n      hitStrokeWidth: Math.max(this.diagram.config.trainPathWidth * this.viewConfig.selectedTrainPathWidthScale, this.viewConfig.minHitWidth * 2)\n    };\n  }\n\n  get selectedTrainPathNodes(): TrainPathNode[] {\n    return this.getTrainPathNodes(\"selected\");\n  }\n\n  getTrainPathNodes(mode: \"regular\" | \"selected\"): TrainPathNode[] {\n    const sel = this.viewState.trainSelections[this.train.id];\n    const stevs = mode == \"selected\" && sel.stevRange != null ? \n      this.train.getStopEventsInRange(sel.stevRange) : this.train.stevs;\n\n    const shiftEnabled = this.viewState.trainPathDragState?.targets[this.train.id] && (mode == \"selected\" || !this.viewState.controlKeyPressed);\n    const shiftTime = this.viewState.trainPathDragState?.timeShift ?? 0;\n    const shiftRange = this.viewState.trainPathDragState?.targets[this.train.id]?.stevRange;\n    let inShiftRange = shiftEnabled && !shiftRange;\n\n    const result: TrainPathNode[] = [];\n    for (const stev of stevs) {\n      if (shiftEnabled && stev == shiftRange?.from) inShiftRange = true;\n      const time = inShiftRange ? stev.time + shiftTime : stev.time;\n      if (stev.station.expanded && stev.prev && stev.prev.station != stev.station) {\n        result.push({ \n          stev, \n          phase: \"arr\",\n          time, \n          relY: stev.prev.station.mileage < stev.station.mileage ? stev.station.topRelY : stev.station.bottomRelY\n        });\n      }\n      result.push({\n        stev,\n        phase: \"track\",\n        time,\n        relY: stev.track.relY\n      });\n      if (stev.station.expanded && stev.next && stev.next.station != stev.station) {\n        result.push({ \n          stev, \n          phase: \"dep\",\n          time, \n          relY: stev.next.station.mileage < stev.station.mileage ? stev.station.topRelY : stev.station.bottomRelY\n        });\n      }\n      if (shiftEnabled && stev == shiftRange?.to) inShiftRange = false;\n    }\n    return result;\n  }\n\n  onTrainPathMouseMove(): void {\n    this.viewState.pointerTargetTrainPath = null;\n  }\n\n  onSelectedTrainPathMouseMove(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    this.viewState.pointerTargetTrainPath = { \n      train: this.train, \n      stevRange: this.getPointedStevRange(konvaEvent.evt.clientX, konvaEvent.evt.clientY)\n    };\n  }\n\n  onTrainPathClick(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    const clickedStopRange = this.getPointedStevRange(konvaEvent.evt.clientX, konvaEvent.evt.clientY);\n    this.changeTrainSelections(konvaEvent, clickedStopRange, false);\n  }\n\n  onSelectedTrainPathClick(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    const clickedStopRange = this.getPointedStevRange(konvaEvent.evt.clientX, konvaEvent.evt.clientY);\n    this.changeTrainSelections(konvaEvent, clickedStopRange, true);\n  }\n\n  onMarkerClick(konvaEvent: KonvaEventObject<MouseEvent>, trainPathNode: TrainPathNode): void {\n    const clickedStevRange = { from: trainPathNode.stev, to: trainPathNode.stev };\n    this.changeTrainSelections(konvaEvent, clickedStevRange, true);\n  }\n\n  changeTrainSelections(konvaEvent: KonvaEventObject<MouseEvent>, clickedStevRange: StopEventRange, clickSelected: boolean): void {\n    if (!this.viewState.trainPathDragState?.dragging && !this.viewState.drawingState) {\n      const sel = this.viewState.trainSelections[this.train.id];\n\n      // Remove other trains if shift not pressed\n      if (!konvaEvent.evt.shiftKey) {\n        this.viewState.trainSelections = sel ? { [this.train.id]: sel } : {};\n      }\n\n      if (!sel) {\n        this.$set(this.viewState.trainSelections, this.train.id, { train: this.train, stevRange: null });\n      } else {\n        const selectedStevRange = sel.stevRange;\n        if (!selectedStevRange) {\n          sel.stevRange = clickedStevRange;\n        } else if (!konvaEvent.evt.shiftKey) {\n          sel.stevRange = clickSelected ? clickedStevRange : null;\n        } else {\n          let selStart = false, selEnd = false, changed = false;\n          for (const stev of this.train.stevs) {\n            if (!selStart && stev == clickedStevRange.from) {\n              selectedStevRange.from = clickedStevRange.from;\n              changed = true;\n            }\n            if (stev == selectedStevRange.from) selStart = true;\n            if (stev == selectedStevRange.to) selEnd = true;\n            if (selEnd && stev == clickedStevRange.to) {\n              selectedStevRange.to = clickedStevRange.to;\n              changed = true;\n            }\n          }\n          if (!changed) {\n            this.$delete(this.viewState.trainSelections, this.train.id);\n          }\n        }\n      }\n    }\n  }\n\n  onTrainPathTap(): void {\n    this.viewState.trainSelections = { [this.train.id]: { train: this.train, stevRange: null } };\n  }\n\n  getPointedStevRange(x: number, y: number): StopEventRange {\n    if (this.train.stevs.length <= 2) {\n      return { from: this.train.stevs[0], to: this.train.stevs[this.train.stevs.length - 1] };\n    }\n\n    // TODO: more precise detection\n    for (let i = 0; i < this.train.stevs.length - 1; ++i) {\n      const thisStev = this.train.stevs[i];\n      const nextStev = this.train.stevs[i + 1];\n      const leftX = this.diagram.getXByTime(thisStev.time) - this.viewConfig.minHitWidth;\n      const rightX = this.diagram.getXByTime(nextStev.time) + this.viewConfig.minHitWidth;\n      const topY = this.diagram.getYByRelY(Math.min(thisStev.track.relY, nextStev.track.relY)) - this.viewConfig.minHitWidth;\n      const bottomY = this.diagram.getYByRelY(Math.max(thisStev.track.relY, nextStev.track.relY)) + this.viewConfig.minHitWidth;\n      if (leftX < x && x < rightX && topY < y && y < bottomY) {\n        return { from: thisStev, to: nextStev };\n      }\n    }\n    return { from: this.train.stevs[0], to: this.train.stevs[this.train.stevs.length - 1] };\n  }\n\n  onSelectedTrainPathDoubleClick(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    if (this.viewConfig.editMode && !this.viewState.drawingState) {\n      const targetTime = this.viewState.pointerTime;\n      const nearestStation = this.getNearestStation(konvaEvent.evt.clientY);\n      const nearestStev = this.getNearestStopEvent(targetTime);\n      if (!(nearestStation == nearestStev.station && (nearestStev.prev?.track == nearestStev.track || nearestStev.next?.track == nearestStev.track))) {\n        const index = this.train.stevs.findIndex(s => s.time > targetTime);\n        const newStev = this.train.addNewStopEvent(new StopEvent(this.train, nearestStation.tracks[0], targetTime), index);\n        this.viewState.trainSelections = { \n          [this.train.id]: {\n            train: this.train,\n            stevRange: { from: newStev, to: newStev }\n          } \n        };\n      }\n    }\n  }\n\n  getNearestStation(y: number): Station {\n    const stations = this.diagram.getStationsInMileageOrder();\n    const relY = this.diagram.getRelYByY(y);\n    let minSta = stations[0];\n    let minDist = Math.abs(relY - minSta.bottomRelY);\n    for (const s of stations) {\n      if (Math.abs(relY - s.topRelY) < minDist) {\n        minSta = s;\n        minDist = Math.abs(relY - s.topRelY);\n      }\n      if (Math.abs(relY - s.bottomRelY) < minDist) {\n        minSta = s;\n        minDist = Math.abs(relY - s.bottomRelY);\n      }\n    }\n    return minSta;\n  }\n\n  getNearestStopEvent(time: number): StopEvent {\n    let minStop = this.train.stevs[0];\n    let minDist = Math.abs(time - minStop.time);\n    for (const s of this.train.stevs) {\n      if (Math.abs(time - s.time) < minDist) {\n        minStop = s;\n        minDist = Math.abs(time - s.time);\n      }\n    }\n    return minStop;\n  }\n\n  onSelectedTrainPathMouseDown(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    if (!this.viewConfig.editMode) {\n      return;\n    }\n\n    let minTimeShift = -86400;\n    let maxTimeShift = 86400;\n    for (const sel of Object.values(this.viewState.trainSelections)) {\n      const stevRange = sel.stevRange;\n      if (stevRange) {\n        if (stevRange.from.prev) {\n          minTimeShift = Math.max(minTimeShift, stevRange.from.prev.time - stevRange.from.time);\n        }\n        if (stevRange.to.next) {\n          maxTimeShift = Math.min(maxTimeShift, stevRange.to.next.time - stevRange.to.time);\n        }\n      }\n    }\n\n    const clickedStevRange = this.getPointedStevRange(konvaEvent.evt.clientX, konvaEvent.evt.clientY);\n    const changeTrackTargets = \n      clickedStevRange.from == clickedStevRange.to ? [ clickedStevRange.from ] : \n      clickedStevRange.from.track == clickedStevRange.to.track ? [ clickedStevRange.from, clickedStevRange.to ] :\n      null;\n\n    const firstNode = this.selectedTrainPathNodes[0];\n    this.dragState = { \n      t0: firstNode.time, \n      y0: this.diagram.getYByRelY(firstNode.relY),\n      sx0: konvaEvent.evt.screenX, \n      sy0: konvaEvent.evt.screenY,\n      track0: changeTrackTargets ? changeTrackTargets[0].track : null,\n      minTimeShift: minTimeShift,\n      maxTimeShift: maxTimeShift,\n      changeTimeTargets: null,\n      changeTrackTargets: changeTrackTargets ?? null\n    };\n    this.viewState.trainPathDragState = {\n      dragging: false,\n      targets: this.viewState.trainSelections,\n      timeShift: 0\n    };\n    window.addEventListener(\"mousemove\", this.onWindowMouseMove);\n    window.addEventListener(\"mouseup\", this.onWindowMouseUp);\n  }\n\n  onMarkerMouseDown(konvaEvent: KonvaEventObject<MouseEvent>, node: TrainPathNode): void {\n    if (!this.viewConfig.editMode) {\n      return;\n    }\n\n    this.dragState = {\n      t0: node.time,\n      y0: this.diagram.getYByRelY(node.relY),\n      track0: node.stev.track,\n      sx0: konvaEvent.evt.screenX,\n      sy0: konvaEvent.evt.screenY,\n      minTimeShift: node.stev.prev ? node.stev.prev.time - node.time : -86400,\n      maxTimeShift: node.stev.next ? node.stev.next.time - node.time : 86400,\n      changeTimeTargets: [ node.stev ],\n      changeTrackTargets: [ node.stev ]\n    };\n    this.viewState.trainPathDragState = {\n      dragging: false,\n      targets: { [node.stev.train.id]: { train: node.stev.train, stevRange: { from: node.stev, to: node.stev } } },\n      timeShift: 0\n    };\n    window.addEventListener(\"mousemove\", this.onWindowMouseMove);\n    window.addEventListener(\"mouseup\", this.onWindowMouseUp);\n  }\n\n  onWindowMouseMove(event: MouseEvent): void {\n    if (this.dragState && this.viewState.trainPathDragState) {\n      if (!this.viewState.trainPathDragState.dragging && Math.hypot(event.clientX - this.dragState.sx0, event.clientY - this.dragState.sy0) > 1) {\n        this.viewState.trainPathDragState.dragging = true;\n        this.viewState.pointerY = this.dragState.y0;\n      }\n      if (this.viewState.trainPathDragState.dragging) {\n        if (!this.viewState.pointerPreciseState) {\n          this.viewState.pointerTime = this.dragState.t0 + Math.floor((event.screenX - this.dragState.sx0) / this.diagram.config.xScale / 60) * 60;\n        }\n        this.viewState.trainPathDragState.timeShift = \n          !this.viewState.controlKeyPressed ?\n            Math.min(this.dragState.maxTimeShift, Math.max(this.dragState.minTimeShift, this.viewState.pointerTime - this.dragState.t0)) :\n            this.viewState.pointerTime - this.dragState.t0;\n        if (this.dragState.changeTrackTargets) {\n          const mouseRelY = this.diagram.getRelYByY(event.clientY);\n          const targetStation = this.dragState.changeTrackTargets[0].station;\n          const mouseTrack = targetStation.tracks.find(t => Math.abs(t.relY - mouseRelY) < this.viewConfig.minHitWidth);\n          if (mouseTrack) {\n            for (const stev of this.dragState.changeTrackTargets) {\n              stev.track = mouseTrack;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  onWindowMouseUp(): void {\n    if (this.dragState && this.viewState.trainPathDragState) {\n      window.removeEventListener(\"mousemove\", this.onWindowMouseMove);\n      window.removeEventListener(\"mouseup\", this.onWindowMouseUp);\n      if (this.viewState.trainPathDragState.dragging) {\n        if (this.dragState.changeTrackTargets && this.dragState.track0) {\n          const targets = this.dragState.changeTrackTargets;\n          const track0 = this.dragState.track0;\n          const track1 = this.dragState.changeTrackTargets[0].track;\n          if (track0 != track1) {\n            this.historyManager.push({\n              this: this,\n              undo: () => { targets.forEach(stev => stev.track = track0); },\n              redo: () => { targets.forEach(stev => stev.track = track1); }\n            });\n          }\n        }\n\n        const timeShift = this.viewState.trainPathDragState.timeShift;\n        if (timeShift != 0) {\n          if (!this.viewState.controlKeyPressed) {\n            const targets = \n              this.dragState.changeTimeTargets ??\n              Object.values(this.viewState.trainSelections).flatMap(sel => {\n                return sel.stevRange ? sel.train.getStopEventsInRange(sel.stevRange) : sel.train.stevs;\n              });\n            targets.forEach(stev => stev.time += timeShift);\n            this.historyManager.push({\n              this: this,\n              undo: () => { targets.forEach(stev => stev.time -= timeShift); },\n              redo: () => { targets.forEach(stev => stev.time += timeShift); }\n            });\n          } else {\n            const newTrains = Object.values(this.viewState.trainSelections).map(sel => {\n              const srcTrain = sel.train;\n              const srcStevs = sel.stevRange ? srcTrain.getStopEventsInRange(sel.stevRange) : srcTrain.stevs;\n              const newTrain = this.diagram.addNewTrain(new Train(this.diagram.genId(), \"\"));\n              for (const srcStev of srcStevs) {\n                newTrain.addNewStopEvent(new StopEvent(newTrain, srcStev.track, srcStev.time + timeShift));\n              }\n              this.$delete(this.viewState.trainSelections, sel.train.id);\n              this.$set(this.viewState.trainSelections, newTrain.id, { trainId: newTrain.id, stevRange: null });\n              return newTrain;\n            });\n            this.historyManager.push({\n              this: this,\n              undo: () => { newTrains.forEach(train => this.diagram.removeTrain(train)); },\n              redo: () => { newTrains.forEach(train => this.diagram.addNewTrain(train)); }\n            });\n          }\n        }\n      }\n      this.viewState.trainPathDragState = null;\n      this.dragState = null;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainPathGroup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainPathGroup.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TrainPathGroup.vue?vue&type=template&id=42e8c116&scoped=true&\"\nimport script from \"./TrainPathGroup.vue?vue&type=script&lang=ts&\"\nexport * from \"./TrainPathGroup.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42e8c116\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport { Component, InjectReactive, Vue } from \"vue-property-decorator\";\nimport Diagram from \"@/data/Diagram\";\nimport ViewState from \"@/data/ViewState\";\nimport TrainPathGroup from \"./TrainPathGroup.vue\";\n\n@Component({\n  components: {\n    TrainPathGroup\n  },\n})\nexport default class BackLayer extends Vue {\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n\n  // mounted(): void {\n  //   const hitCanvas = (this.$refs.trainPathLayer as any).getNode().hitCanvas._canvas;\n  //   document.body.appendChild(hitCanvas);\n  // }\n\n  get layerConfig(): unknown {\n    return {\n      clip: {\n        x: this.diagram.config.leftPaneWidth,\n        y: this.diagram.config.topPaneHeight,\n        width: this.viewState.viewWidth - this.diagram.config.leftPaneWidth,\n        height: this.viewState.viewHeight - this.diagram.config.topPaneHeight,\n      }\n    };\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainPathLayer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainPathLayer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TrainPathLayer.vue?vue&type=template&id=2f6cdf07&scoped=true&\"\nimport script from \"./TrainPathLayer.vue?vue&type=script&lang=ts&\"\nexport * from \"./TrainPathLayer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f6cdf07\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Inject, InjectReactive, Vue } from \"vue-property-decorator\";\nimport { KonvaEventObject } from \"konva/types/Node\";\nimport Hammer from \"hammerjs\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport Station from \"@/data/Station\";\nimport StopEvent from \"@/data/StopEvent\";\nimport Track from \"@/data/Track\";\nimport Train from \"@/data/Train\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\nimport BackLayer from \"./BackLayer.vue\";\nimport Pointer from \"./Pointer.vue\";\nimport TrainPathLayer from \"./TrainPathLayer.vue\";\n\n@Component({\n  components: {\n    BackLayer, Pointer, TrainPathLayer\n  },\n})\nexport default class Stage extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n\n  $el!: HTMLElement;\n\n  stageDragState: { scrollX0: number, scrollY0: number, x0: number, y0: number, dragging: boolean } | null = null;\n  pinchState: { lastScale: number } | null = null;\n\n  get stageConfig(): unknown {\n    return {\n      width: this.viewState.viewWidth,\n      height: this.viewState.viewHeight\n    };\n  }\n\n  get stationsInMileageOrder(): Station[] {\n    return this.diagram.getStationsInMileageOrder();\n  }\n\n  mounted(): void {\n    window.addEventListener(\"mousemove\", this.onWindowMouseMove);\n    window.addEventListener(\"mouseup\", this.onWindowMouseUp);\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n\n    const hammer = new Hammer(this.$el);\n    hammer.get(\"pan\").set({ direction: Hammer.DIRECTION_ALL });\n    hammer.get(\"pinch\").set({ enable: true });\n    hammer.on(\"panstart\", this.onPanStart);\n    hammer.on(\"panmove\", this.onPanMove);\n    hammer.on(\"panend\", this.onPanEnd);\n    hammer.on(\"pinchstart\", this.onPinchStart);\n    hammer.on(\"pinchmove\", this.onPinchMove);\n    hammer.on(\"pinchend\", this.onPinchEnd);\n  }\n\n  unmounted(): void {\n    window.removeEventListener(\"mousemove\", this.onWindowMouseMove);\n    window.removeEventListener(\"mouseup\", this.onWindowMouseUp);\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n  }\n\n  onStageMouseMove(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    const event = konvaEvent.evt;\n\n    // Update pointer state\n    this.viewState.pointerScreenX = event.screenX;\n    if (this.viewState.pointerPreciseState) {\n      const dUnit = Math.round((event.screenX - this.viewState.pointerPreciseState.sx0) / this.viewConfig.pointerPrecisePixelPerTimeUnit);\n      this.viewState.pointerTime = dUnit * this.diagram.config.minimumTimeUnit + this.viewState.pointerPreciseState.t0;\n    } else if (!this.viewState.trainPathDragState?.dragging) {\n      this.viewState.pointerTime = Math.round(this.diagram.getTimeByX(event.clientX) / 60) * 60;\n      if (event.clientX >= this.diagram.config.leftPaneWidth) {\n        const pointerTargetLine = this.findPointerTargetLine(event.clientY);\n        if (pointerTargetLine) {\n          this.viewState.pointerTargetLine = pointerTargetLine ?? null;\n          this.viewState.pointerY = this.diagram.getYByRelY(pointerTargetLine.relY);\n        } else {\n          this.viewState.pointerTargetLine = null;\n        }\n      } else {\n        this.viewState.pointerTargetLine = null;\n      }\n    }\n    if (konvaEvent.target == konvaEvent.currentTarget) {\n      this.viewState.pointerTargetTrainPath = null;\n    }\n\n    // Update drawing floating\n    const drawingState = this.viewState.drawingState;\n    if (drawingState) {\n      if (drawingState.direction > 0) {\n        this.viewState.pointerTime = Math.max(this.viewState.pointerTime, drawingState.lastStev.time);\n      } else if (drawingState.direction < 0) {\n        this.viewState.pointerTime = Math.min(this.viewState.pointerTime, drawingState.lastStev.time);\n      }\n\n      if (drawingState.floating) {\n        drawingState.train.removeStopEvent(drawingState.floating);\n        drawingState.floating = null;\n      }\n\n      const pointerTargetLine = event.clientX >= this.diagram.config.leftPaneWidth ?\n        this.findPointerTargetLine(event.clientY) : undefined;\n      if (pointerTargetLine) {\n        const targetTrack = pointerTargetLine.track ?? pointerTargetLine.station.tracks[0];\n        const newStev = drawingState.train.addNewStopEvent(\n          new StopEvent(\n            drawingState.train,\n            targetTrack,\n            this.viewState.pointerTime\n          ),\n          drawingState.direction > 0 || (drawingState.direction == 0 && this.viewState.pointerTime >= drawingState.lastStev.time) ? undefined : 0\n        );\n        drawingState.floating = newStev;\n      }\n    }\n  }\n\n  findPointerTargetLine(y: number): { station: Station, track: Track | null, relY: number } | undefined {\n    const stationPointedOnTop = this.stationsInMileageOrder.find(s => \n      Math.abs(this.diagram.getYByRelY(s.topRelY) - y) < Math.max(this.diagram.config.stationLineWidth * 0.5, this.viewConfig.minHitWidth));\n    if (stationPointedOnTop) {\n      return { station: stationPointedOnTop, track: null, relY: stationPointedOnTop.topRelY };\n    }\n\n    const stationPointedOnBottom = this.stationsInMileageOrder.find(s =>\n      Math.abs(this.diagram.getYByRelY(s.bottomRelY) - y) < Math.max(this.diagram.config.stationLineWidth * 0.5, this.viewConfig.minHitWidth));\n    if (stationPointedOnBottom) {\n      return { station: stationPointedOnBottom, track: null, relY: stationPointedOnBottom.bottomRelY };\n    }\n\n    const station = this.stationsInMileageOrder.find(s => \n      this.diagram.getYByRelY(s.topRelY) + this.diagram.config.trackLineSpan - Math.max(this.diagram.config.trackLineWidth * 0.5, this.viewConfig.minHitWidth) < y &&\n      this.diagram.getYByRelY(s.bottomRelY) - this.diagram.config.trackLineSpan + Math.max(this.diagram.config.trackLineWidth * 0.5, this.viewConfig.minHitWidth) > y\n    );\n    if (station) {\n      const pointedTrack = station.tracks.find(t => Math.abs(this.diagram.getYByRelY(t.relY) - y) < Math.max(this.diagram.config.trackLineWidth * 0.5, this.viewConfig.minHitWidth));\n      if (pointedTrack) {\n        return { station, track: pointedTrack, relY: pointedTrack.relY };\n      }\n    }\n  }\n\n  onStageClick(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    const drawingState = this.viewState.drawingState;\n    if (drawingState) {\n      if (konvaEvent.evt.button == 0 && this.viewState.pointerTargetLine) {\n        if (drawingState.direction == 0) {\n          drawingState.direction = Math.sign(this.viewState.pointerTime - drawingState.lastStev.time);\n        }\n        if (drawingState.floating){\n          const triple = drawingState.floating.track == drawingState.lastStev.track && (\n            drawingState.direction > 0 && drawingState.lastStev.track == drawingState.lastStev.prev?.track ||\n            drawingState.direction < 0 && drawingState.lastStev.track == drawingState.lastStev.next?.track\n          );\n          if (triple) {\n            drawingState.lastStev.time = this.viewState.pointerTime;\n            drawingState.train.removeStopEvent(drawingState.floating);\n          } else {\n            drawingState.lastStev = drawingState.floating;\n          }\n          drawingState.floating = null;\n        }\n      }\n      if (konvaEvent.evt.button == 2) {\n        if (drawingState.lastStev == drawingState.stableEnd) {\n          if (drawingState.floating) {\n            drawingState.train.removeStopEvent(drawingState.floating);\n          }\n          this.viewState.drawingState = null;\n        } else {\n          const newLastStev = drawingState.direction > 0 ? drawingState.lastStev.prev : drawingState.lastStev.next;\n          if (newLastStev) {\n            drawingState.train.removeStopEvent(drawingState.lastStev);\n            drawingState.lastStev = newLastStev;\n          } else {\n            this.$delete(this.diagram.trains, drawingState.train.id);\n            this.viewState.drawingState = null;\n          }\n        }\n      }\n    }\n\n    if (konvaEvent.target == konvaEvent.currentTarget && \n        !konvaEvent.evt.ctrlKey &&\n        !konvaEvent.evt.shiftKey && \n        !this.stageDragState?.dragging && \n        !this.viewState.trainPathDragState?.dragging && \n        !this.viewState.drawingState) {\n      this.viewState.trainSelections = {};\n    }\n  }\n\n  onTouchEnd(konvaEvent: KonvaEventObject<TouchEvent>): void {\n    if (konvaEvent.target == konvaEvent.currentTarget && \n      !this.stageDragState?.dragging) { \n      this.viewState.trainSelections = {};\n    }    \n    if (this.stageDragState) {\n      this.stageDragState = null;\n    }\n  }\n\n  onStageDoubleClick(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    if (konvaEvent.target == konvaEvent.currentTarget && this.viewState.drawingState) {\n      const drawingState = this.viewState.drawingState;\n      if (drawingState.floating) {\n        drawingState.train.removeStopEvent(drawingState.floating);\n      }\n      if (drawingState.train.stevs.length <= 1) {\n        this.$delete(this.diagram.trains, drawingState.train.id);\n      } else {\n        const stableEnd = drawingState.stableEnd;\n        if (stableEnd) {\n          const stableIndex = drawingState.train.stevs.indexOf(stableEnd);\n          const addedStevs = drawingState.direction > 0 ? \n            drawingState.train.stevs.filter((e, i) => i > stableIndex) : drawingState.train.stevs.filter((e, i) => i < stableIndex);\n          if (drawingState.direction > 0) {\n            this.historyManager.push({\n              this: this,\n              undo: () => { drawingState.train.stevs.splice(stableIndex + 1); },\n              redo: () => { addedStevs.forEach(stev => drawingState.train.stevs.push(stev)); }\n            });\n          } else {\n            this.historyManager.push({\n              this: this,\n              undo: () => { drawingState.train.stevs.splice(0, stableIndex); },\n              redo: () => { drawingState.train.stevs = addedStevs.concat(drawingState.train.stevs); }\n            });\n          }\n        } else {\n          this.historyManager.push({\n            this: this,\n            undo: () => { this.$delete(this.diagram.trains, drawingState.train.id); },\n            redo: () => { this.$set(this.diagram.trains, drawingState.train.id, drawingState.train) }\n          });\n        }\n      }\n      this.viewState.drawingState = null;\n      this.viewState.trainSelections = {};\n    } else if (konvaEvent.target == konvaEvent.currentTarget && this.viewConfig.editMode) {\n      if (konvaEvent.evt.clientX >= this.diagram.config.leftPaneWidth) {\n        const targetLine = this.viewState.pointerTargetLine;\n        if (targetLine && (targetLine.track || !targetLine.station.expanded)) {\n          const track = targetLine.track ?? targetLine.station.tracks[0];\n          const train = this.diagram.addNewTrain(new Train(this.diagram.genId(), \"\"));\n          train.addNewStopEvent(new StopEvent(train, track, this.viewState.pointerTime));\n          this.viewState.trainSelections = { [train.id]: { train: train, stevRange: null } };\n          this.viewState.drawingState = {\n            train: this.diagram.trains[train.id],\n            lastStev: this.diagram.trains[train.id].stevs[0],\n            direction: 0,\n            stableEnd: null,\n            floating: null\n          };\n        }\n      } else {\n        const relY = this.diagram.getRelYByY(konvaEvent.evt.clientY);\n        const prevSta = this.stationsInMileageOrder.reverse().find(s => s.topRelY < relY);\n        const mileage = prevSta ?\n          (relY - prevSta.bottomRelY) / this.diagram.config.yScale + prevSta.mileage :\n          relY / this.diagram.config.yScale;\n        const station = Station.fromJSON({\n          id: this.diagram.genId(),\n          name: \"\",\n          mileage,\n          tracks: [ { id: this.diagram.genId(), name: \"\" } ],\n        });\n        this.$set(this.diagram.stations, station.id, station);\n        this.diagram.updateY();\n\n        this.historyManager.push({\n          this: this,\n          undo: () => { \n            this.$delete(this.diagram.stations, station.id);\n            this.diagram.updateY();\n          },\n          redo: () => { \n            this.$set(this.diagram.stations, station.id, station);\n            this.diagram.updateY();\n          }\n        });\n\n        this.viewState.stationNameInputTarget = station;\n        this.$emit(\"stationNameInputStart\");\n      }\n    }\n  }\n\n  onStageMouseDown(konvaEvent: KonvaEventObject<MouseEvent>): void {\n    if (konvaEvent.target == konvaEvent.currentTarget) {\n      this.startDrag(konvaEvent.evt.screenX, konvaEvent.evt.screenY);\n    }\n  }\n\n  onWindowMouseMove(event: MouseEvent): void {\n    this.moveDrag(event.screenX, event.screenY);\n  }\n\n  onWindowMouseUp(event: MouseEvent): void {\n    if (this.stageDragState) {\n      this.moveDrag(event.screenX, event.screenY);\n      this.stageDragState = null;\n    }\n  }\n\n  onPanStart(event: { pointerType: string, center: { x: number, y: number } }): void {\n    if (event.pointerType != \"mouse\") {\n      this.startDrag(event.center.x, event.center.y);\n    }\n  }\n\n  onPanMove(event: { pointerType: string, center: { x: number, y: number } }): void {\n    if (event.pointerType != \"mouse\") {\n      this.moveDrag(event.center.x, event.center.y);\n    }\n  }\n\n  onPanEnd(event: { pointerType: string, center: { x: number, y: number } }): void {\n    if (event.pointerType != \"mouse\" && this.stageDragState) {\n      this.moveDrag(event.center.x, event.center.y);\n      // this.stageDragState = null;  // do in touchEnd\n    }\n  }\n\n  startDrag(x: number, y: number): void {\n    if (!this.viewState.pointerPreciseState) {\n      this.stageDragState = {\n        scrollX0: this.diagram.config.scrollX,\n        scrollY0: this.diagram.config.scrollY,\n        x0: x,\n        y0: y,\n        dragging: false,\n      };\n    }\n  }\n\n  moveDrag(x: number, y: number): void {\n    if (this.stageDragState) {\n      if (Math.hypot(x - this.stageDragState.x0, y - this.stageDragState.y0) > 1) {\n        this.stageDragState.dragging = true;\n      }\n      if (this.stageDragState.dragging) {\n        this.diagram.config.scrollX = \n          Math.max(this.diagram.config.minPlotTime * this.diagram.config.xScale - this.diagram.config.plotPanePadding, \n            Math.min(this.diagram.config.maxPlotTime * this.diagram.config.xScale - (this.viewState.viewWidth - this.diagram.config.leftPaneWidth - this.diagram.config.plotPanePadding),\n              this.stageDragState.scrollX0 - (x - this.stageDragState.x0)));\n        this.diagram.config.scrollY = \n          Math.max(0, Math.min(this.diagram.getYByRelY(this.diagram.maxRelY), \n            this.stageDragState.scrollY0 - (y - this.stageDragState.y0)));\n      }\n    }\n  }\n\n  onStageMouseWheel(konvaEvent: KonvaEventObject<WheelEvent>): void {\n    // const f = Math.pow(2, -konvaEvent.evt.deltaY * this.viewConfig.wheelScale * 0.001);\n    const f = Math.pow(2, -Math.sign(konvaEvent.evt.deltaY) * this.viewConfig.wheelScale);\n    this.diagram.config.scrollX += (f - 1) * (konvaEvent.evt.clientX - this.diagram.config.leftPaneWidth + this.diagram.config.scrollX);\n    this.diagram.config.scrollY = \n      Math.max(0, Math.min(this.diagram.maxRelY + this.diagram.config.topPaneHeight - this.viewState.viewHeight,\n      this.diagram.config.scrollY + (f - 1) * (konvaEvent.evt.clientY - this.diagram.config.topPaneHeight + this.diagram.config.scrollY)));\n    this.diagram.config.xScale *= f;\n    this.diagram.config.yScale *= f;\n    this.diagram.updateY();\n    konvaEvent.evt.preventDefault();\n  }\n\n  onPinchStart(event: { scale: number }): void {\n    this.pinchState = { lastScale: event.scale };\n  }\n\n  onPinchMove(event: { center: { x: number, y: number }, scale: number }): void {\n    if (this.pinchState) {\n      this.diagram.config.scrollX += (event.scale / this.pinchState.lastScale - 1) * (event.center.x - this.diagram.config.leftPaneWidth + this.diagram.config.scrollX);\n      this.diagram.config.scrollY = \n        Math.max(0, Math.min(this.diagram.maxRelY + this.diagram.config.topPaneHeight - this.viewState.viewHeight,\n        this.diagram.config.scrollY + (event.scale / this.pinchState.lastScale - 1) * (event.center.y - this.diagram.config.topPaneHeight + this.diagram.config.scrollY)));\n      this.diagram.config.xScale *= event.scale / this.pinchState.lastScale;\n      this.diagram.config.yScale *= event.scale / this.pinchState.lastScale;\n      this.pinchState.lastScale = event.scale;\n      this.diagram.updateY();\n    }\n  }\n\n  onPinchEnd(event: { center: { x: number, y: number }, scale: number }): void {\n    if (this.pinchState) {\n      this.onPinchMove(event);\n      this.pinchState = null;\n    }\n  }\n\n  onKeyDown(event: KeyboardEvent): void {\n    if (!event.repeat) {\n      if (event.key == \"Alt\") {\n        this.viewState.pointerPreciseState = {\n          sx0: this.viewState.pointerScreenX,\n          t0: this.viewState.pointerTime\n        };\n      }\n      if (event.key == \"Control\") {\n        this.viewState.controlKeyPressed = true;\n      }\n      if (event.key == \"Delete\" && this.viewConfig.editMode && !this.viewState.busy) {\n        const deletingTrains: Train[] = [];\n        const deletingStevs: { stev: StopEvent, index: number }[] = [];\n        for (const sel of Object.values(this.viewState.trainSelections)) {\n          if (!sel.stevRange) {\n            deletingTrains.push(sel.train);\n          } else {\n            const fromIndex = sel.train.stevs.indexOf(sel.stevRange.from);\n            const toIndex = sel.train.stevs.indexOf(sel.stevRange.to);\n            const size = toIndex - fromIndex + 1;\n            if (size >= sel.train.stevs.length - 1) {\n              deletingTrains.push(sel.train);\n            } else {\n              for (let i = fromIndex; i <= toIndex; ++i) {\n                deletingStevs.push({ stev: sel.train.stevs[i], index: i });\n              }\n            }\n          }\n        }\n        deletingTrains.forEach(train => this.$delete(this.diagram.trains, train.id));\n        deletingStevs.forEach(e => e.stev.train.removeStopEvent(e.stev));\n        this.historyManager.push({\n          this: this,\n          undo: () => {\n            deletingStevs.forEach(e => e.stev.train.addNewStopEvent(e.stev, e.index));\n            deletingTrains.forEach(train => this.$set(this.diagram.trains, train.id, train));\n          },\n          redo: () => {\n            deletingTrains.forEach(train => this.$delete(this.diagram.trains, train.id));\n            deletingStevs.forEach(e => e.stev.train.removeStopEvent(e.stev));\n          }\n        });\n        this.viewState.trainSelections = {};\n      }\n    }\n  }\n\n  onKeyUp(event: KeyboardEvent): void {\n    if (event.key == \"Alt\") {\n      this.viewState.pointerPreciseState = null;\n    }\n    if (event.key == \"Control\") {\n      this.viewState.controlKeyPressed = false;\n    }\n  }\n\n  onContextMenu(konvaEvent: KonvaEventObject<MouseEvent>): boolean {\n    konvaEvent.evt.preventDefault();\n    return false;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Stage.vue?vue&type=template&id=1db9ad3a&scoped=true&\"\nimport script from \"./Stage.vue?vue&type=script&lang=ts&\"\nexport * from \"./Stage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1db9ad3a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.viewConfig.editMode && _vm.station.expanded && _vm.isBottomLineIntersectingPlotPane)?_c('b-icon',{style:(_vm.style),attrs:{\"icon\":\"plus\",\"size\":\"is-small\"},nativeOn:{\"click\":function($event){return _vm.onClick($event)}}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Inject, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport Station from \"@/data/Station\";\nimport Track from \"@/data/Track\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\n\n@Component\nexport default class StationAddTrackButton extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n  @Prop() station!: Station;\n\n  get style(): unknown {\n    return {\n      left: `${this.diagram.config.leftPaneWidth - this.diagram.config.stationLabelRightMargin}px`,\n      top: `${this.diagram.getYByRelY(this.station.bottomRelY) - this.diagram.config.trackLineSpan}px`,\n      height: `${this.diagram.config.trackLineSpan}px`,\n    };\n  }\n\n  get isBottomLineIntersectingPlotPane(): boolean {\n    return this.diagram.getYByRelY(this.station.bottomRelY) >= this.diagram.config.topPaneHeight && \n      this.diagram.getYByRelY(this.station.bottomRelY) < this.viewState.viewHeight;\n  }\n\n  onClick(): void {\n    if (!this.viewState.inputEnabled) {\n      const newTrack = this.station.addNewTrack(new Track(this.station, this.diagram.genId(), \"\"));\n      this.diagram.updateY();\n\n      this.historyManager.push({\n        this: this,\n        undo: () => { \n          this.station.removeTrack(newTrack); \n          this.diagram.updateY();\n        },\n        redo: () => { \n          this.station.addNewTrack(newTrack); \n          this.diagram.updateY();\n        }\n      });\n\n      this.viewState.trackNameInputTarget = newTrack;\n      this.$emit(\"trackNameInputStart\");\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationAddTrackButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationAddTrackButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationAddTrackButton.vue?vue&type=template&id=597ad551&scoped=true&\"\nimport script from \"./StationAddTrackButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationAddTrackButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"597ad551\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isBottomLineIntersectingPlotPane)?_c('b-icon',{style:(_vm.style),attrs:{\"icon\":_vm.icon,\"size\":\"is-small\"},nativeOn:{\"click\":function($event){return _vm.onClick($event)}}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport Diagram from \"@/data/Diagram\";\nimport Station from \"@/data/Station\";\nimport ViewState from \"@/data/ViewState\";\n\n@Component\nexport default class StationExpandButton extends Vue {\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Prop() station!: Station;\n\n  get icon(): string {\n    return this.station.expanded ? \"chevron-up\" : \"chevron-down\";\n  }\n\n  get style(): unknown {\n    return {\n      left: `${this.diagram.config.stationLabelLeftMargin}px`,\n      top: `${this.diagram.getYByRelY(this.station.bottomRelY)}px`,\n      height: `${this.diagram.config.trackLineSpan}px`,\n    };\n  }\n\n  get isBottomLineIntersectingPlotPane(): boolean {\n    return this.diagram.getYByRelY(this.station.bottomRelY) >= this.diagram.config.topPaneHeight && \n      this.diagram.getYByRelY(this.station.bottomRelY) < this.viewState.viewHeight;\n  }\n\n  onClick(): void {\n    if (!this.viewState.inputEnabled) {\n      this.station.expanded = !this.station.expanded;\n      this.diagram.updateY();\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationExpandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationExpandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationExpandButton.vue?vue&type=template&id=5be17e4a&scoped=true&\"\nimport script from \"./StationExpandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationExpandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5be17e4a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewState.stationNameInputTarget),expression:\"viewState.stationNameInputTarget\"}],style:(_vm.style),domProps:{\"value\":_vm.targetStation.name},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onComplete($event)},\"blur\":_vm.onComplete}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Inject, InjectReactive, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport Station from \"@/data/Station\";\nimport ViewState from \"@/data/ViewState\";\n\n@Component\nexport default class StationNameInput extends Vue {\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n\n  get targetStation(): Station | Record<string, never> {\n    return this.viewState.stationNameInputTarget ?? {};\n  }\n\n  get style(): unknown {\n    return {\n      left: `${this.diagram.config.stationLabelLeftMargin}px`,\n      top: `${this.diagram.getYByRelY(this.targetStation.topRelY) - this.diagram.config.stationLabelFontSize - 4}px`,\n      width: `${this.diagram.config.leftPaneWidth - this.diagram.config.stationLabelLeftMargin - this.diagram.config.stationLabelRightMargin}px`,\n      height: `${this.diagram.config.stationLabelFontSize + 4}px`,\n      paddingTop: \"2px\",\n      lineHeight: `${this.diagram.config.stationLabelFontSize}px`,\n      border: \"none\",\n      fontSize: `${this.diagram.config.stationLabelFontSize}px`,\n    };\n  }\n\n  onComplete(): void {\n    const targetStation = this.targetStation;\n    const name0 = this.targetStation.name;\n    const name1 = (this.$el as HTMLInputElement).value;\n    if (name0 != name1) {\n      targetStation.name = name1;\n      this.historyManager.push({\n        this: this,\n        undo: () => { targetStation.name = name0; },\n        redo: () => { targetStation.name = name1; }\n      });\n    }\n    this.viewState.stationNameInputTarget = null;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationNameInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationNameInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationNameInput.vue?vue&type=template&id=37eb2912&scoped=true&\"\nimport script from \"./StationNameInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationNameInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37eb2912\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.viewConfig.editMode && _vm.isTopLineIntersectingPlotPane)?_c('b-icon',{style:(_vm.style),attrs:{\"icon\":\"close\",\"size\":\"is-small\"},nativeOn:{\"click\":function($event){return _vm.onClick($event)}}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Inject, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport Station from \"@/data/Station\";\nimport StopEvent from \"@/data/StopEvent\";\nimport Train from \"@/data/Train\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\n\n@Component\nexport default class StationRemoveButton extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n  @Prop() station!: Station;\n\n  get style(): unknown {\n    return {\n      left: `${this.diagram.config.leftPaneWidth - this.diagram.config.stationLabelRightMargin}px`,\n      top: `${this.diagram.getYByRelY(this.station.topRelY) - this.diagram.config.trackLineSpan}px`,\n      height: `${this.diagram.config.trackLineSpan}px`,\n    };\n  }\n\n  get isTopLineIntersectingPlotPane(): boolean {\n    return this.diagram.getYByRelY(this.station.topRelY) >= this.diagram.config.topPaneHeight && \n      this.diagram.getYByRelY(this.station.topRelY) < this.viewState.viewHeight;\n  }\n\n  onClick(): void {\n    if (!this.viewState.busy) {\n      const removingTrains: Train[] = [];\n      const removingStevs: { stev: StopEvent, index: number }[] = [];\n      for (const train of Object.values(this.diagram.trains)) {\n        for (let i = 0; i < train.stevs.length; ++i) {\n          const stev = train.stevs[i];\n          if (stev.station == this.station) {\n            removingStevs.push({ stev, index: i });\n            if (train.stevs.length <= 1) {\n              removingTrains.push(train);\n            }\n          }\n        }\n      }\n\n      removingStevs.forEach(e => e.stev.train.removeStopEvent(e.stev));\n      removingTrains.forEach(train => this.diagram.removeTrain(train)); \n      this.$delete(this.diagram.stations, this.station.id);\n      this.diagram.updateY();\n\n      this.historyManager.push({\n        this: this,\n        undo: () => { \n          this.$set(this.diagram.stations, this.station.id, this.station);\n          removingTrains.forEach(train => this.diagram.addNewTrain(train)); \n          removingStevs.forEach(e => e.stev.train.addNewStopEvent(e.stev, e.index));\n          this.diagram.updateY();\n        },\n        redo: () => { \n          removingStevs.forEach(e => e.stev.train.removeStopEvent(e.stev));\n          removingTrains.forEach(train => this.diagram.removeTrain(train)); \n          this.$delete(this.diagram.stations, this.station.id); \n          this.diagram.updateY();\n        }\n      });\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationRemoveButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationRemoveButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationRemoveButton.vue?vue&type=template&id=72979f3e&scoped=true&\"\nimport script from \"./StationRemoveButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationRemoveButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72979f3e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.viewConfig.editMode && _vm.station.expanded && Object.values(_vm.station.tracks).length > 1 && _vm.isLineIntersectingPlotPane)?_c('b-icon',{style:(_vm.style),attrs:{\"icon\":\"close\",\"size\":\"is-small\"},nativeOn:{\"click\":function($event){return _vm.onClick($event)}}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Inject, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport Station from \"@/data/Station\";\nimport StopEvent from \"@/data/StopEvent\";\nimport Track from \"@/data/Track\";\nimport Train from \"@/data/Train\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\n\n@Component\nexport default class StationRemoveTrackButton extends Vue {\n  @InjectReactive() viewConfig!: ViewConfig;\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n  @Prop() station!: Station;\n  @Prop() track!: Track;\n\n  get style(): unknown {\n    return {\n      left: `${this.diagram.config.leftPaneWidth - this.diagram.config.stationLabelRightMargin}px`,\n      top: `${this.diagram.getYByRelY(this.track.relY) - this.diagram.config.trackLineSpan}px`,\n      height: `${this.diagram.config.trackLineSpan}px`,\n    };\n  }\n\n  get isLineIntersectingPlotPane(): boolean {\n    return this.diagram.getYByRelY(this.track.relY) >= this.diagram.config.topPaneHeight && \n      this.diagram.getYByRelY(this.track.relY) < this.viewState.viewHeight;\n  }\n\n  onClick(): void {\n    if (!this.viewState.busy) {\n      const removingTrains: Train[] = [];\n      const removingStevs: { stev: StopEvent, index: number }[] = [];\n      for (const train of Object.values(this.diagram.trains)) {\n        for (let i = 0; i < train.stevs.length; ++i) {\n          const stev = train.stevs[i];\n          if (stev.track == this.track) {\n            removingStevs.push({ stev, index: i });\n            if (train.stevs.length <= 1) {\n              removingTrains.push(train);\n            }\n          }\n        }\n      }\n      const trackIndex = this.station.tracks.indexOf(this.track);\n\n      removingStevs.forEach(e => e.stev.train.removeStopEvent(e.stev));\n      removingTrains.forEach(train => this.diagram.removeTrain(train)); \n      this.station.removeTrack(this.track);\n      this.diagram.updateY();\n\n      this.historyManager.push({\n        this: this,\n        undo: () => { \n          this.station.addNewTrack(this.track, trackIndex); \n          removingTrains.forEach(train => this.diagram.addNewTrain(train)); \n          removingStevs.forEach(e => e.stev.train.addNewStopEvent(e.stev, e.index));\n          this.diagram.updateY();\n        },\n        redo: () => { \n          removingStevs.forEach(e => e.stev.train.removeStopEvent(e.stev));\n          removingTrains.forEach(train => this.diagram.removeTrain(train)); \n          this.station.removeTrack(this.track);\n          this.diagram.updateY();\n        }\n      });\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationRemoveTrackButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationRemoveTrackButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationRemoveTrackButton.vue?vue&type=template&id=4ff8e214&scoped=true&\"\nimport script from \"./StationRemoveTrackButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationRemoveTrackButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ff8e214\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewState.trackNameInputTarget),expression:\"viewState.trackNameInputTarget\"}],style:(_vm.style),domProps:{\"value\":_vm.targetTrack.name},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onComplete($event)},\"blur\":_vm.onComplete}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Inject, InjectReactive, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport Track from \"@/data/Track\";\nimport ViewState from \"@/data/ViewState\";\n\n@Component\nexport default class TrackNameInput extends Vue {\n  @InjectReactive() viewState!: ViewState;\n  @InjectReactive() diagram!: Diagram;\n  @Inject() historyManager!: HistoryManager;\n\n  get targetTrack(): Track | Record<string, never> {\n    return this.viewState.trackNameInputTarget ?? {};\n  }\n\n  get style(): unknown {\n    return this.viewState.trackNameInputTarget ?\n      {\n        left: `${this.diagram.config.stationLabelLeftMargin + this.diagram.config.trackLabelLeftMargin}px`,\n        top: `${this.diagram.getYByRelY(this.targetTrack.relY) - this.diagram.config.stationLabelFontSize - 4}px`,\n        width: `${this.diagram.config.leftPaneWidth - this.diagram.config.stationLabelLeftMargin - this.diagram.config.trackLabelLeftMargin - this.diagram.config.stationLabelRightMargin}px`,\n        height: `${this.diagram.config.stationLabelFontSize + 4}px`,\n        paddingTop: \"2px\",\n        lineHeight: `${this.diagram.config.stationLabelFontSize}px`,\n        border: \"none\",\n        fontSize: `${this.diagram.config.stationLabelFontSize}px`,\n      } : {};\n  }\n\n  onComplete(): void {\n    const targetTrack = this.targetTrack;\n    const name0 = targetTrack.name;\n    const name1 = (this.$el as HTMLInputElement).value;\n    if (name0 != name1) {\n      targetTrack.name = name1;\n      this.historyManager.push({\n        this: this,\n        undo: () => { targetTrack.name = name0; },\n        redo: () => { targetTrack.name = name1; }\n      });\n    }\n    this.viewState.trackNameInputTarget = null;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackNameInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackNameInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TrackNameInput.vue?vue&type=template&id=c5f560d4&scoped=true&\"\nimport script from \"./TrackNameInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./TrackNameInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5f560d4\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Provide, ProvideReactive, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"@/HistoryManager\";\nimport Diagram from \"@/data/Diagram\";\nimport ViewConfig from \"@/data/ViewConfig\";\nimport ViewState from \"@/data/ViewState\";\nimport Stage from \"./Stage.vue\";\nimport StationAddTrackButton from \"./StationAddTrackButton.vue\";\nimport StationExpandButton from \"./StationExpandButton.vue\";\nimport StationNameInput from \"./StationNameInput.vue\";\nimport StationRemoveButton from \"./StationRemoveButton.vue\";\nimport StationRemoveTrackButton from \"./StationRemoveTrackButton.vue\";\nimport TrackNameInput from \"./TrackNameInput.vue\";\n\n@Component({\n  components: {\n    Stage, StationAddTrackButton, StationExpandButton, StationNameInput, StationRemoveButton, StationRemoveTrackButton, TrackNameInput\n  },\n})\nexport default class DiagramView extends Vue {\n  @Prop({ default: () => Diagram.fromJSON({ stations: [], trains: [] }) }) @ProvideReactive() diagram!: Diagram;\n  @Prop({ default: new ViewConfig() }) @ProvideReactive() viewConfig!: ViewConfig;\n  @Prop() @Provide() historyManager!: HistoryManager;\n  @ProvideReactive() viewState = new ViewState();\n\n  mounted(): void {\n    const resizeObserver = new ResizeObserver(this.updateViewSize);\n    resizeObserver.observe(this.$el);\n  }\n\n  onStationNameInputStart(): void {\n    this.$nextTick(() => ((this.$refs.stationNameInput as Vue).$el as HTMLInputElement).focus());\n  }\n\n  onTrackNameInputStart(): void {\n    this.$nextTick(() => ((this.$refs.trackNameInput as Vue).$el as HTMLInputElement).focus());\n  }\n\n  updateViewSize(): void {\n    if (this.$el) {\n      this.viewState.viewWidth = this.$el.clientWidth;\n      this.viewState.viewHeight = this.$el.clientHeight;\n        this.diagram.config.scrollX = \n          Math.max(this.diagram.config.minPlotTime * this.diagram.config.xScale - this.diagram.config.plotPanePadding, \n            Math.min(this.diagram.config.maxPlotTime * this.diagram.config.xScale - (this.viewState.viewWidth - this.diagram.config.leftPaneWidth - this.diagram.config.plotPanePadding),\n              this.diagram.config.scrollX));\n        this.diagram.config.scrollY = \n          Math.max(0, Math.min(this.diagram.getYByRelY(this.diagram.maxRelY), \n            this.diagram.config.scrollY));\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DiagramView.vue?vue&type=template&id=fee8a654&scoped=true&\"\nimport script from \"./DiagramView.vue?vue&type=script&lang=ts&\"\nexport * from \"./DiagramView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DiagramView.vue?vue&type=style&index=0&id=fee8a654&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fee8a654\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-carousel',{attrs:{\"autoplay\":false,\"indicator-inside\":false}},[_c('b-carousel-item',[_c('div',{staticClass:\"help-item\"},[_c('div',{staticClass:\"help-image\"},[_c('img',{attrs:{\"src\":require(\"@/assets/help_add_new_station.png\")}})]),_c('div',{staticClass:\"help-desc content\"},[_c('h5',{staticClass:\"title is-5\",domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.addNewStationTitle'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.addNewStationBody'))}})])])]),_c('b-carousel-item',[_c('div',{staticClass:\"help-item\"},[_c('div',{staticClass:\"help-image\"},[_c('img',{attrs:{\"src\":require(\"@/assets/help_add_new_train.png\")}})]),_c('div',{staticClass:\"help-desc content\"},[_c('h5',{staticClass:\"title is-5\",domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.addNewTrainTitle'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.addNewTrainBody'))}})])])]),_c('b-carousel-item',[_c('div',{staticClass:\"help-item\"},[_c('div',{staticClass:\"help-image\"},[_c('img',{attrs:{\"src\":require(\"@/assets/help_select_train.png\")}})]),_c('div',{staticClass:\"help-desc content\"},[_c('h5',{staticClass:\"title is-5\",domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.selectTrainTitle'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.selectTrainBody'))}})])])]),_c('b-carousel-item',[_c('div',{staticClass:\"help-item\"},[_c('div',{staticClass:\"help-image\"},[_c('img',{attrs:{\"src\":require(\"@/assets/help_edit_train.png\")}})]),_c('div',{staticClass:\"help-desc content\"},[_c('h5',{staticClass:\"title is-5\",domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.editTrainTitle'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.editTrainBody'))}})])])]),_c('b-carousel-item',[_c('div',{staticClass:\"help-item\"},[_c('div',{staticClass:\"help-image\"},[_c('img',{attrs:{\"src\":require(\"@/assets/help_edit_time.png\")}})]),_c('div',{staticClass:\"help-desc content\"},[_c('h5',{staticClass:\"title is-5\",domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.editTimeTitle'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.editTimeBody'))}})])])]),_c('b-carousel-item',[_c('div',{staticClass:\"help-item\"},[_c('img',{attrs:{\"src\":require(\"@/assets/help_tips.png\")}}),_c('div',{staticClass:\"help-desc content\"},[_c('h5',{staticClass:\"title is-5\",domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.tipsTitle'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.tipsBody'))}})])])]),_c('b-carousel-item',[_c('div',{staticClass:\"help-item\"},[_c('div',{staticClass:\"help-desc content\"},[_c('h5',{staticClass:\"title is-5\",domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.contactTitle'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('message.help.contactBody'))}})])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class HelpPane extends Vue {\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HelpView.vue?vue&type=template&id=ec83cbc6&scoped=true&\"\nimport script from \"./HelpView.vue?vue&type=script&lang=ts&\"\nexport * from \"./HelpView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HelpView.vue?vue&type=style&index=0&id=ec83cbc6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ec83cbc6\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport HistoryManager from \"./HistoryManager\";\nimport Diagram from \"./data/Diagram\";\nimport ViewConfig from \"./data/ViewConfig\";\nimport DiagramView from \"./components/DiagramView.vue\";\nimport HelpView from \"./components/HelpView.vue\";\n\n@Component({\n  components: {\n    DiagramView, HelpView\n  },\n})\nexport default class App extends Vue {\n  diagramFileName = \"diagram.json\";\n  diagram = Diagram.fromJSON({ stations: [], trains: [] });\n  viewConfig = new ViewConfig();\n  historyManager = new HistoryManager(100);\n\n  enableSwitchEditMode = window.screen.width >= 640;\n  subView: \"none\" | \"help\" = \"none\";\n\n  mounted(): void {\n    this.viewConfig.editMode = this.enableSwitchEditMode;\n    fetch(\"sample-diagram.json\").then(async result => {\n      const json = await result.json();\n      this.diagram = Diagram.fromJSON(json);\n      this.diagramFileName = \"sample-diagram.json\";\n    });\n  }\n\n  onEditButtonClick(): void {\n    this.viewConfig.editMode = !this.viewConfig.editMode;\n  }\n\n  onUndoButtonClick(): void {\n    this.historyManager.undo();\n  }\n\n  onRedoButtonClick(): void {\n    this.historyManager.redo();\n  }\n\n  onVanishButtonClick(): void {\n    if (Object.keys(this.diagram.trains).length > 0) {\n      const trains = this.diagram.trains;\n      this.historyManager.push({\n        this: this,\n        undo: () => { this.diagram.trains = trains; },\n        redo: () => { this.diagram.trains = {}; }\n      });\n      this.diagram.trains = {}; \n    } else {\n      const diagram = this.diagram;\n      this.historyManager.push({\n        this: this,\n        undo: () => { this.diagram = diagram; },\n        redo: () => { this.diagram = Diagram.fromJSON({ stations: {}, trains: {} }); }\n      });\n      this.diagram = Diagram.fromJSON({ stations: {}, trains: {} }); \n    }\n  }\n\n  onUploadButtonClick(): void {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \".json, application/json\";\n    input.onchange = () => {\n      const reader = new FileReader();\n      if (input.files && input.files.length > 0) {\n        const file = input.files[0];\n        reader.readAsText(file);\n        reader.onload = () => {\n          if (typeof(reader.result) == \"string\") {\n            try {\n              const data = JSON.parse(reader.result);\n              this.diagram = Diagram.fromJSON(data);\n              this.diagramFileName = file.name;\n              this.historyManager.clear();\n            } catch (e) {\n              this.$buefy.notification.open({\n                type: \"is-danger\",\n                message: `${this.$t(\"message.failedToLoadJSON\").toString()}<br>${file.name}`,\n              });\n            }\n          }\n        };\n      }\n    };\n    input.click();\n  }\n\n  onDownloadButtonClick(): void {\n    const json = JSON.stringify(this.diagram);\n    const blob = new Blob([ json ], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = this.diagramFileName;\n    a.click();\n  }\n\n  onHelpButtonClick(): void {\n    this.subView = this.subView == \"help\" ? \"none\" : \"help\";\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=755de983&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n    ja: {\n        message: {\n            failedToLoadJSON: \"\",\n            editButtonTooltip: \"\",\n            undoButtonTooltip: \"\",\n            redoButtonTooltip: \"\",\n            vanishTrainsButtonTooltip: \"\",\n            vanishStationsButtonTooltip: \"\",\n            uploadButtonTooltip: \"\",\n            downloadButtonTooltip: \"\",\n            helpButtonTooltip: \"\",\n            help: {\n                addNewStationTitle: \"\",\n                addNewStationBody: \n                    \"<p></p>\" +\n                    \"<ul><li>\" +\n                    \"<li>\" +\n                    \"<li><i class='mdi mdi-close'></i></ul>\",\n                addNewTrainTitle: \"\",\n                addNewTrainBody:\n                    \"<p></p>\" +\n                    \"<ul><li>\" +\n                    \"<li>Alt\" +\n                    \"<li></ul>\",\n                selectTrainTitle: \"\",\n                selectTrainBody:\n                    \"<p></p>\" +\n                    \"<ul><li>Shift\" +\n                    \"<li><br>Shift</ul>\",\n                editTrainTitle: \"\",\n                editTrainBody:\n                    \"<p></p>\" +\n                    \"<ul><li>\" +\n                    \"<li>\" +\n                    \"<li>Delete</ul>\",\n                editTimeTitle: \"\",\n                editTimeBody: \n                    \"<p></p>\" +\n                    \"<ul><li>Alt\" +\n                    \"<li>\" +\n                    \"<li>Ctrl<br></ul>\",\n                tipsTitle: \"\",\n                tipsBody: \n                    \"<ul><li><i class='mdi mdi-undo'></i><i class='mdi mdi-redo'></i>\" +\n                    \"<li><i class='mdi mdi-vanish'></i>\" +\n                    \"<li><i class='mdi mdi-upload'></i><i class='mdi mdi-download'></i></ul>\",\n                contactTitle: \"\",\n                contactBody:\n                    \"<p><a href='https://twitter.com/nosrithe'>@nosrithe</a> </p>\" +\n                    \"<ul><li>\" +\n                    \"<li> <a href='https://github.com/nosrith/diafreaks/issues'>GitHub </a> <br></ul>\"\n            },\n        },\n    },\n};\n","import Vue from \"vue\";\nimport Buefy from \"buefy\";\nimport \"buefy/dist/buefy.css\";\nimport VueI18n from \"vue-i18n\";\nimport VueKonva from \"vue-konva\";\nimport App from \"./App.vue\";\nimport messages from \"./messages\";\n\nVue.config.productionTip = false\nVue.use(Buefy, {\n  defaultNotificationDuration: 5000,\n  defaultNotificationPosition: \"is-bottom-right\",\n});\nVue.use(VueI18n);\nVue.use(VueKonva);\n\nconst i18n = new VueI18n({\n  locale: \"ja\",\n  messages,\n});\n\nnew Vue({\n  render: h => h(App),\n  i18n,\n}).$mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpView.vue?vue&type=style&index=0&id=ec83cbc6&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramView.vue?vue&type=style&index=0&id=fee8a654&lang=scss&scoped=true&\""],"sourceRoot":""}